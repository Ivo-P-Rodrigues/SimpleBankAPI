2022-10-27 12:46:42.696 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-27 12:46:42.797 +01:00 [DBG] Hosting starting
2022-10-27 12:46:42.847 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-27 12:46:42.851 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-27 12:46:42.857 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-27 12:46:42.859 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-27 12:46:42.865 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-27 12:46:42.872 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-27 12:46:42.873 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-27 12:46:42.882 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-27 12:46:42.884 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-27 12:46:42.888 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-27 12:46:42.890 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-27 12:46:42.894 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-27 12:46:42.897 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-27 12:46:42.900 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-27 12:46:42.902 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-27 12:46:43.070 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-27 12:46:43.131 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-27 12:46:43.132 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-27 12:46:43.133 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-27 12:46:43.134 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-27 12:46:43.135 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-27 12:46:43.136 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-27 12:46:43.137 +01:00 [INF] Hosting environment: Development
2022-10-27 12:46:43.138 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-27 12:46:43.139 +01:00 [DBG] Hosting started
2022-10-27 12:46:43.200 +01:00 [DBG] Connection id "0HMLO23LJPJUB" accepted.
2022-10-27 12:46:43.204 +01:00 [DBG] Connection id "0HMLO23LJPJUB" received FIN.
2022-10-27 12:46:43.202 +01:00 [DBG] Connection id "0HMLO23LJPJUC" received FIN.
2022-10-27 12:46:43.210 +01:00 [DBG] Connection id "0HMLO23LJPJUB" started.
2022-10-27 12:46:43.212 +01:00 [DBG] Connection id "0HMLO23LJPJUC" accepted.
2022-10-27 12:46:43.214 +01:00 [DBG] Connection id "0HMLO23LJPJUC" started.
2022-10-27 12:46:43.243 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-27 12:46:43.241 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-27 12:46:43.525 +01:00 [DBG] Connection id "0HMLO23LJPJUB" stopped.
2022-10-27 12:46:43.515 +01:00 [DBG] Connection id "0HMLO23LJPJUC" stopped.
2022-10-27 12:46:43.678 +01:00 [DBG] Connection id "0HMLO23LJPJUB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-27 12:46:43.699 +01:00 [DBG] Connection id "0HMLO23LJPJUC" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-27 12:46:44.023 +01:00 [DBG] Connection id "0HMLO23LJPJUD" accepted.
2022-10-27 12:46:44.103 +01:00 [DBG] Connection id "0HMLO23LJPJUD" started.
2022-10-27 12:46:44.211 +01:00 [DBG] Connection 0HMLO23LJPJUD established using the following protocol: "Tls13"
2022-10-27 12:46:44.289 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-27 12:46:44.348 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-27 12:46:44.545 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-27 12:46:44.772 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-27 12:46:44.779 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 493.2537ms
2022-10-27 12:46:44.875 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-27 12:46:44.876 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-27 12:46:44.887 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 10.3779ms
2022-10-27 12:46:44.916 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.8556ms
2022-10-27 12:46:45.159 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-27 12:46:45.395 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 235.6578ms
2022-10-27 12:46:52.859 +01:00 [DBG] Connection id "0HMLO23LJPJUE" accepted.
2022-10-27 12:46:52.861 +01:00 [DBG] Connection id "0HMLO23LJPJUE" started.
2022-10-27 12:46:52.876 +01:00 [DBG] Connection 0HMLO23LJPJUE established using the following protocol: "Tls13"
2022-10-27 12:46:52.901 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:46:52.904 +01:00 [DBG] POST requests are not supported
2022-10-27 12:46:52.924 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:46:52.926 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:46:53.009 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:46:53.021 +01:00 [DBG] Connection id "0HMLO23LJPJUE" completed keep alive response.
2022-10-27 12:46:53.022 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 121.9041ms
2022-10-27 12:46:53.024 +01:00 [DBG] Connection id "0HMLO23LJPJUE", Request id "0HMLO23LJPJUE:00000002": started reading request body.
2022-10-27 12:46:53.029 +01:00 [DBG] Connection id "0HMLO23LJPJUE", Request id "0HMLO23LJPJUE:00000002": done reading request body.
2022-10-27 12:46:53.037 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - -
2022-10-27 12:46:53.038 +01:00 [DBG] The request path  does not match the path filter
2022-10-27 12:46:53.044 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/users/profile'
2022-10-27 12:46:53.051 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Users/Profile' is valid for the request path '/api/v1/users/profile'
2022-10-27 12:46:53.057 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-27 12:46:53.271 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-10-27 12:46:53.277 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-10-27 12:46:53.281 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-10-27 12:46:53.288 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-10-27 12:46:53.299 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-10-27 12:46:53.301 +01:00 [DBG] Connection id "0HMLO23LJPJUE" completed keep alive response.
2022-10-27 12:46:53.302 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - - - 401 0 - 265.3841ms
2022-10-27 12:46:53.376 +01:00 [DBG] Connection id "0HMLO23LJPJUE" received FIN.
2022-10-27 12:46:53.378 +01:00 [DBG] Connection id "0HMLO23LJPJUE" disconnecting.
2022-10-27 12:46:53.380 +01:00 [DBG] Connection id "0HMLO23LJPJUE" sending FIN because: "The client closed the connection."
2022-10-27 12:46:53.391 +01:00 [DBG] Connection id "0HMLO23LJPJUE" stopped.
2022-10-27 12:48:00.293 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-27 12:48:00.367 +01:00 [DBG] Hosting starting
2022-10-27 12:48:00.402 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-27 12:48:00.407 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-27 12:48:00.412 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-27 12:48:00.413 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-27 12:48:00.419 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-27 12:48:00.424 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-27 12:48:00.425 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-27 12:48:00.434 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-27 12:48:00.437 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-27 12:48:00.442 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-27 12:48:00.444 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-27 12:48:00.450 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-27 12:48:00.454 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-27 12:48:00.458 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-27 12:48:00.461 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-27 12:48:00.592 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-27 12:48:00.645 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-27 12:48:00.646 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-27 12:48:00.648 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-27 12:48:00.649 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-27 12:48:00.650 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-27 12:48:00.651 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-27 12:48:00.652 +01:00 [INF] Hosting environment: Development
2022-10-27 12:48:00.653 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-27 12:48:00.654 +01:00 [DBG] Hosting started
2022-10-27 12:48:00.693 +01:00 [DBG] Connection id "0HMLO24CMQTOA" accepted.
2022-10-27 12:48:00.693 +01:00 [DBG] Connection id "0HMLO24CMQTO9" accepted.
2022-10-27 12:48:00.696 +01:00 [DBG] Connection id "0HMLO24CMQTOA" started.
2022-10-27 12:48:00.696 +01:00 [DBG] Connection id "0HMLO24CMQTO9" started.
2022-10-27 12:48:00.717 +01:00 [DBG] Connection id "0HMLO24CMQTO9" received FIN.
2022-10-27 12:48:00.717 +01:00 [DBG] Connection id "0HMLO24CMQTOA" received FIN.
2022-10-27 12:48:00.743 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-27 12:48:00.743 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-27 12:48:00.866 +01:00 [DBG] Connection id "0HMLO24CMQTO9" stopped.
2022-10-27 12:48:00.866 +01:00 [DBG] Connection id "0HMLO24CMQTOA" stopped.
2022-10-27 12:48:00.880 +01:00 [DBG] Connection id "0HMLO24CMQTO9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-27 12:48:00.885 +01:00 [DBG] Connection id "0HMLO24CMQTOA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-27 12:48:06.115 +01:00 [DBG] Connection id "0HMLO24CMQTOB" accepted.
2022-10-27 12:48:06.120 +01:00 [DBG] Connection id "0HMLO24CMQTOB" started.
2022-10-27 12:48:06.157 +01:00 [DBG] Connection 0HMLO24CMQTOB established using the following protocol: "Tls13"
2022-10-27 12:48:06.208 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-27 12:48:06.245 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-27 12:48:06.360 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-27 12:48:06.478 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-27 12:48:06.484 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 279.2637ms
2022-10-27 12:48:06.524 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-27 12:48:06.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-27 12:48:06.543 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 19.1138ms
2022-10-27 12:48:06.593 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 68.5153ms
2022-10-27 12:48:06.774 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-27 12:48:06.958 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.2621ms
2022-10-27 12:48:17.436 +01:00 [DBG] Connection id "0HMLO24CMQTOC" accepted.
2022-10-27 12:48:17.438 +01:00 [DBG] Connection id "0HMLO24CMQTOC" started.
2022-10-27 12:48:17.448 +01:00 [DBG] Connection 0HMLO24CMQTOC established using the following protocol: "Tls13"
2022-10-27 12:48:17.473 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:48:17.476 +01:00 [DBG] POST requests are not supported
2022-10-27 12:48:17.497 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:48:17.499 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:48:17.580 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:48:17.590 +01:00 [DBG] Connection id "0HMLO24CMQTOC" completed keep alive response.
2022-10-27 12:48:17.592 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 119.2890ms
2022-10-27 12:48:17.593 +01:00 [DBG] Connection id "0HMLO24CMQTOC", Request id "0HMLO24CMQTOC:00000002": started reading request body.
2022-10-27 12:48:17.598 +01:00 [DBG] Connection id "0HMLO24CMQTOC", Request id "0HMLO24CMQTOC:00000002": done reading request body.
2022-10-27 12:48:17.605 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - -
2022-10-27 12:48:17.606 +01:00 [DBG] The request path  does not match the path filter
2022-10-27 12:48:17.612 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/users/profile'
2022-10-27 12:48:17.619 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Users/Profile' is valid for the request path '/api/v1/users/profile'
2022-10-27 12:48:17.625 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-27 12:48:17.832 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-10-27 12:48:17.837 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-10-27 12:48:17.840 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-10-27 12:48:17.846 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-10-27 12:48:17.856 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-10-27 12:48:17.857 +01:00 [DBG] Connection id "0HMLO24CMQTOC" completed keep alive response.
2022-10-27 12:48:17.859 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - - - 401 0 - 253.5180ms
2022-10-27 12:48:19.934 +01:00 [DBG] Connection id "0HMLO24CMQTOD" accepted.
2022-10-27 12:48:19.935 +01:00 [DBG] Connection id "0HMLO24CMQTOD" started.
2022-10-27 12:48:19.938 +01:00 [DBG] Connection 0HMLO24CMQTOD established using the following protocol: "Tls13"
2022-10-27 12:48:19.939 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:48:19.940 +01:00 [DBG] POST requests are not supported
2022-10-27 12:48:19.941 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:48:19.942 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:48:19.944 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:48:19.945 +01:00 [DBG] Connection id "0HMLO24CMQTOD" completed keep alive response.
2022-10-27 12:48:19.946 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 6.5707ms
2022-10-27 12:48:19.947 +01:00 [DBG] Connection id "0HMLO24CMQTOD", Request id "0HMLO24CMQTOD:00000002": started reading request body.
2022-10-27 12:48:19.950 +01:00 [DBG] Connection id "0HMLO24CMQTOD", Request id "0HMLO24CMQTOD:00000002": done reading request body.
2022-10-27 12:48:19.951 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/login application/json;+charset=utf-8 -
2022-10-27 12:48:19.952 +01:00 [DBG] POST requests are not supported
2022-10-27 12:48:19.953 +01:00 [DBG] No candidates found for the request path '/api/v1/users/login'
2022-10-27 12:48:19.954 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:48:19.954 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:48:19.955 +01:00 [DBG] Connection id "0HMLO24CMQTOD" completed keep alive response.
2022-10-27 12:48:19.957 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/login application/json;+charset=utf-8 - - 404 0 - 5.9346ms
2022-10-27 12:48:19.958 +01:00 [DBG] Connection id "0HMLO24CMQTOD", Request id "0HMLO24CMQTOD:00000003": started reading request body.
2022-10-27 12:48:19.960 +01:00 [DBG] Connection id "0HMLO24CMQTOD", Request id "0HMLO24CMQTOD:00000003": done reading request body.
2022-10-27 12:49:19.981 +01:00 [DBG] Connection id "0HMLO24CMQTOD" received FIN.
2022-10-27 12:49:19.984 +01:00 [DBG] Connection id "0HMLO24CMQTOD" disconnecting.
2022-10-27 12:49:19.993 +01:00 [DBG] Connection id "0HMLO24CMQTOD" sending FIN because: "The client closed the connection."
2022-10-27 12:49:20.007 +01:00 [DBG] Connection id "0HMLO24CMQTOD" stopped.
2022-10-27 12:49:32.489 +01:00 [DBG] Connection id "0HMLO24CMQTOC" received FIN.
2022-10-27 12:49:32.491 +01:00 [DBG] Connection id "0HMLO24CMQTOC" sending FIN because: "The client closed the connection."
2022-10-27 12:49:32.493 +01:00 [DBG] Connection id "0HMLO24CMQTOC" disconnecting.
2022-10-27 12:49:32.494 +01:00 [DBG] Connection id "0HMLO24CMQTOC" stopped.
2022-10-27 12:49:38.433 +01:00 [DBG] Connection id "0HMLO24CMQTOE" accepted.
2022-10-27 12:49:38.434 +01:00 [DBG] Connection id "0HMLO24CMQTOE" started.
2022-10-27 12:49:38.437 +01:00 [DBG] Connection 0HMLO24CMQTOE established using the following protocol: "Tls13"
2022-10-27 12:49:38.438 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:49:38.439 +01:00 [DBG] POST requests are not supported
2022-10-27 12:49:38.440 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:49:38.441 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:49:38.442 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:49:38.443 +01:00 [DBG] Connection id "0HMLO24CMQTOE" completed keep alive response.
2022-10-27 12:49:38.445 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 6.6967ms
2022-10-27 12:49:38.447 +01:00 [DBG] Connection id "0HMLO24CMQTOE", Request id "0HMLO24CMQTOE:00000002": started reading request body.
2022-10-27 12:49:38.448 +01:00 [DBG] Connection id "0HMLO24CMQTOE", Request id "0HMLO24CMQTOE:00000002": done reading request body.
2022-10-27 12:49:38.450 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/login application/json;+charset=utf-8 -
2022-10-27 12:49:38.451 +01:00 [DBG] POST requests are not supported
2022-10-27 12:49:38.452 +01:00 [DBG] No candidates found for the request path '/api/v1/users/login'
2022-10-27 12:49:38.453 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:49:38.453 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:49:38.454 +01:00 [DBG] Connection id "0HMLO24CMQTOE" completed keep alive response.
2022-10-27 12:49:38.455 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/login application/json;+charset=utf-8 - - 404 0 - 5.7178ms
2022-10-27 12:49:38.456 +01:00 [DBG] Connection id "0HMLO24CMQTOE", Request id "0HMLO24CMQTOE:00000003": started reading request body.
2022-10-27 12:49:38.458 +01:00 [DBG] Connection id "0HMLO24CMQTOE", Request id "0HMLO24CMQTOE:00000003": done reading request body.
2022-10-27 12:50:00.301 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:50:00.302 +01:00 [DBG] POST requests are not supported
2022-10-27 12:50:00.303 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:50:00.304 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:50:00.305 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:50:00.306 +01:00 [DBG] Connection id "0HMLO24CMQTOE" completed keep alive response.
2022-10-27 12:50:00.307 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 6.8047ms
2022-10-27 12:50:00.308 +01:00 [DBG] Connection id "0HMLO24CMQTOE", Request id "0HMLO24CMQTOE:00000004": started reading request body.
2022-10-27 12:50:00.312 +01:00 [DBG] Connection id "0HMLO24CMQTOE", Request id "0HMLO24CMQTOE:00000004": done reading request body.
2022-10-27 12:51:17.608 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-27 12:51:17.681 +01:00 [DBG] Hosting starting
2022-10-27 12:51:17.718 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-27 12:51:17.722 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-27 12:51:17.729 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-27 12:51:17.730 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-27 12:51:17.736 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-27 12:51:17.742 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-27 12:51:17.743 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-27 12:51:17.752 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-27 12:51:17.755 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-27 12:51:17.759 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-27 12:51:17.761 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-27 12:51:17.766 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-27 12:51:17.769 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-27 12:51:17.772 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-27 12:51:17.774 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-27 12:51:17.915 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-27 12:51:17.974 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-27 12:51:17.977 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-27 12:51:17.978 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-27 12:51:17.979 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-27 12:51:17.981 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-27 12:51:17.982 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-27 12:51:17.983 +01:00 [INF] Hosting environment: Development
2022-10-27 12:51:17.984 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-27 12:51:17.986 +01:00 [DBG] Hosting started
2022-10-27 12:51:17.986 +01:00 [DBG] Connection id "0HMLO267GCP11" received FIN.
2022-10-27 12:51:17.989 +01:00 [DBG] Connection id "0HMLO267GCP11" accepted.
2022-10-27 12:51:17.991 +01:00 [DBG] Connection id "0HMLO267GCP11" started.
2022-10-27 12:51:18.005 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-27 12:51:18.060 +01:00 [DBG] Connection id "0HMLO267GCP11" stopped.
2022-10-27 12:51:18.063 +01:00 [DBG] Connection id "0HMLO267GCP11" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-27 12:51:19.021 +01:00 [DBG] Connection id "0HMLO267GCP12" accepted.
2022-10-27 12:51:19.023 +01:00 [DBG] Connection id "0HMLO267GCP12" started.
2022-10-27 12:51:19.101 +01:00 [DBG] Connection 0HMLO267GCP12 established using the following protocol: "Tls13"
2022-10-27 12:51:19.167 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-27 12:51:19.210 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-27 12:51:19.328 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-27 12:51:19.449 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-27 12:51:19.455 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 291.3437ms
2022-10-27 12:51:19.525 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-27 12:51:19.525 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-27 12:51:19.540 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 15.1019ms
2022-10-27 12:51:19.654 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 128.9099ms
2022-10-27 12:51:19.853 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-27 12:51:20.082 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 229.2770ms
2022-10-27 12:51:23.263 +01:00 [DBG] Connection id "0HMLO267GCP13" accepted.
2022-10-27 12:51:23.267 +01:00 [DBG] Connection id "0HMLO267GCP13" started.
2022-10-27 12:51:23.278 +01:00 [DBG] Connection 0HMLO267GCP13 established using the following protocol: "Tls13"
2022-10-27 12:51:23.307 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:51:23.311 +01:00 [DBG] POST requests are not supported
2022-10-27 12:51:23.345 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:51:23.347 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:51:23.425 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:51:23.435 +01:00 [DBG] Connection id "0HMLO267GCP13" completed keep alive response.
2022-10-27 12:51:23.436 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 128.4859ms
2022-10-27 12:51:23.437 +01:00 [DBG] Connection id "0HMLO267GCP13", Request id "0HMLO267GCP13:00000002": started reading request body.
2022-10-27 12:51:23.441 +01:00 [DBG] Connection id "0HMLO267GCP13", Request id "0HMLO267GCP13:00000002": done reading request body.
2022-10-27 12:51:23.449 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - -
2022-10-27 12:51:23.450 +01:00 [DBG] The request path  does not match the path filter
2022-10-27 12:51:23.456 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/users/profile'
2022-10-27 12:51:23.464 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Users/Profile' is valid for the request path '/api/v1/users/profile'
2022-10-27 12:51:23.471 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-27 12:51:23.668 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-10-27 12:51:23.675 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-10-27 12:51:23.678 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-10-27 12:51:23.684 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-10-27 12:51:23.694 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-10-27 12:51:23.697 +01:00 [DBG] Connection id "0HMLO267GCP13" completed keep alive response.
2022-10-27 12:51:23.699 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - - - 401 0 - 250.3174ms
2022-10-27 12:51:28.396 +01:00 [DBG] Connection id "0HMLO267GCP14" accepted.
2022-10-27 12:51:28.398 +01:00 [DBG] Connection id "0HMLO267GCP14" started.
2022-10-27 12:51:28.400 +01:00 [DBG] Connection 0HMLO267GCP14 established using the following protocol: "Tls13"
2022-10-27 12:51:28.404 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:51:28.405 +01:00 [DBG] POST requests are not supported
2022-10-27 12:51:28.406 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:51:28.407 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:51:28.409 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:51:28.410 +01:00 [DBG] Connection id "0HMLO267GCP14" completed keep alive response.
2022-10-27 12:51:28.411 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 9.4871ms
2022-10-27 12:51:28.413 +01:00 [DBG] Connection id "0HMLO267GCP14", Request id "0HMLO267GCP14:00000002": started reading request body.
2022-10-27 12:51:28.414 +01:00 [DBG] Connection id "0HMLO267GCP14", Request id "0HMLO267GCP14:00000002": done reading request body.
2022-10-27 12:51:28.415 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/auth/login application/json;+charset=utf-8 -
2022-10-27 12:51:28.416 +01:00 [DBG] POST requests are not supported
2022-10-27 12:51:28.417 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/auth/login'
2022-10-27 12:51:28.421 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Auth/Login' is valid for the request path '/api/v1/auth/login'
2022-10-27 12:51:28.422 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)'
2022-10-27 12:51:28.423 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:51:28.424 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:51:28.427 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)'
2022-10-27 12:51:28.460 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.v1.Responses.LoginUserResponse]] Login(SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest) on controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API).
2022-10-27 12:51:28.463 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:51:28.464 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:51:28.466 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:51:28.468 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:51:28.470 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:51:28.472 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:51:28.678 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-27 12:51:28.707 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:51:28.715 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' ...
2022-10-27 12:51:28.718 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' using the name '' in request data ...
2022-10-27 12:51:28.721 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-27 12:51:28.727 +01:00 [DBG] Connection id "0HMLO267GCP14", Request id "0HMLO267GCP14:00000003": started reading request body.
2022-10-27 12:51:28.729 +01:00 [DBG] Connection id "0HMLO267GCP14", Request id "0HMLO267GCP14:00000003": done reading request body.
2022-10-27 12:51:28.734 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'
2022-10-27 12:51:28.736 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:51:28.738 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:51:28.740 +01:00 [DBG] Attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' ...
2022-10-27 12:51:28.748 +01:00 [DBG] Done attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:51:29.784 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:51:29.840 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2022-10-27 12:51:30.192 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
        SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
        FROM SB-operational.Users AS u
        WHERE u.username == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-27 12:51:30.242 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:51:30.321 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (76ms).
2022-10-27 12:51:30.331 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:51:30.586 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:51:30.604 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-27 12:51:30.699 +01:00 [INF] Executed DbCommand (101ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-27 12:51:30.751 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:51:30.802 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:51:30.807 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:51:30.816 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:51:30.821 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __userId_0)'
2022-10-27 12:51:30.826 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.user_id == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-27 12:51:30.829 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:51:30.830 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-27 12:51:30.831 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:51:30.832 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:51:30.834 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-27 12:51:30.843 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-27 12:51:30.848 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:51:30.858 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:51:30.860 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:51:30.862 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:51:30.866 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:51:30.871 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:51:30.872 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:51:30.873 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:51:30.875 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-10-27 12:51:30.876 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-10-27 12:51:30.884 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API) in 2408.3031ms
2022-10-27 12:51:30.887 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)'
2022-10-27 12:51:30.889 +01:00 [DBG] Connection id "0HMLO267GCP14" completed keep alive response.
2022-10-27 12:51:30.892 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:51:30.897 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/auth/login application/json;+charset=utf-8 - - 400 - text/plain;+charset=utf-8 2481.3286ms
2022-10-27 12:51:30.898 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:51:30.900 +01:00 [DBG] POST requests are not supported
2022-10-27 12:51:30.901 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:51:30.902 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:51:30.902 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:51:30.903 +01:00 [DBG] Connection id "0HMLO267GCP14" completed keep alive response.
2022-10-27 12:51:30.905 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 6.5646ms
2022-10-27 12:51:30.906 +01:00 [DBG] Connection id "0HMLO267GCP14", Request id "0HMLO267GCP14:00000004": started reading request body.
2022-10-27 12:51:30.907 +01:00 [DBG] Connection id "0HMLO267GCP14", Request id "0HMLO267GCP14:00000004": done reading request body.
2022-10-27 12:51:30.908 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/GetTokenAgain application/json;+charset=utf-8 -
2022-10-27 12:51:30.909 +01:00 [DBG] POST requests are not supported
2022-10-27 12:51:30.910 +01:00 [DBG] No candidates found for the request path '/api/v1/users/GetTokenAgain'
2022-10-27 12:51:30.911 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:51:30.912 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:51:30.913 +01:00 [DBG] Connection id "0HMLO267GCP14" completed keep alive response.
2022-10-27 12:51:30.914 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/GetTokenAgain application/json;+charset=utf-8 - - 404 0 - 5.9965ms
2022-10-27 12:51:30.916 +01:00 [DBG] Connection id "0HMLO267GCP14", Request id "0HMLO267GCP14:00000005": started reading request body.
2022-10-27 12:51:30.917 +01:00 [DBG] Connection id "0HMLO267GCP14", Request id "0HMLO267GCP14:00000005": done reading request body.
2022-10-27 12:52:38.319 +01:00 [DBG] Connection id "0HMLO267GCP13" received FIN.
2022-10-27 12:52:38.323 +01:00 [DBG] Connection id "0HMLO267GCP13" disconnecting.
2022-10-27 12:52:38.332 +01:00 [DBG] Connection id "0HMLO267GCP13" sending FIN because: "The client closed the connection."
2022-10-27 12:52:38.349 +01:00 [DBG] Connection id "0HMLO267GCP13" stopped.
2022-10-27 12:52:43.466 +01:00 [DBG] Connection id "0HMLO267GCP14" received FIN.
2022-10-27 12:52:43.467 +01:00 [DBG] Connection id "0HMLO267GCP14" sending FIN because: "The client closed the connection."
2022-10-27 12:52:43.469 +01:00 [DBG] Connection id "0HMLO267GCP14" disconnecting.
2022-10-27 12:52:43.470 +01:00 [DBG] Connection id "0HMLO267GCP14" stopped.
2022-10-27 12:52:58.658 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-27 12:52:58.731 +01:00 [DBG] Hosting starting
2022-10-27 12:52:58.775 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-27 12:52:58.780 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-27 12:52:58.786 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-27 12:52:58.787 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-27 12:52:58.792 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-27 12:52:58.798 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-27 12:52:58.799 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-27 12:52:58.807 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-27 12:52:58.809 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-27 12:52:58.813 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-27 12:52:58.815 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-27 12:52:58.820 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-27 12:52:58.823 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-27 12:52:58.826 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-27 12:52:58.828 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-27 12:52:58.969 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-27 12:52:59.010 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-27 12:52:59.011 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-27 12:52:59.012 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-27 12:52:59.014 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-27 12:52:59.015 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-27 12:52:59.016 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-27 12:52:59.017 +01:00 [INF] Hosting environment: Development
2022-10-27 12:52:59.018 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-27 12:52:59.018 +01:00 [DBG] Hosting started
2022-10-27 12:52:59.114 +01:00 [DBG] Connection id "0HMLO275KOVQS" accepted.
2022-10-27 12:52:59.114 +01:00 [DBG] Connection id "0HMLO275KOVQR" accepted.
2022-10-27 12:52:59.119 +01:00 [DBG] Connection id "0HMLO275KOVQS" started.
2022-10-27 12:52:59.120 +01:00 [DBG] Connection id "0HMLO275KOVQR" started.
2022-10-27 12:52:59.131 +01:00 [DBG] Connection id "0HMLO275KOVQS" received FIN.
2022-10-27 12:52:59.131 +01:00 [DBG] Connection id "0HMLO275KOVQR" received FIN.
2022-10-27 12:52:59.145 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-27 12:52:59.145 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-27 12:52:59.210 +01:00 [DBG] Connection id "0HMLO275KOVQS" stopped.
2022-10-27 12:52:59.210 +01:00 [DBG] Connection id "0HMLO275KOVQR" stopped.
2022-10-27 12:52:59.214 +01:00 [DBG] Connection id "0HMLO275KOVQR" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-27 12:52:59.214 +01:00 [DBG] Connection id "0HMLO275KOVQS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-27 12:52:59.418 +01:00 [DBG] Connection id "0HMLO275KOVQT" accepted.
2022-10-27 12:52:59.419 +01:00 [DBG] Connection id "0HMLO275KOVQT" started.
2022-10-27 12:52:59.464 +01:00 [DBG] Connection 0HMLO275KOVQT established using the following protocol: "Tls13"
2022-10-27 12:52:59.520 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-27 12:52:59.566 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-27 12:52:59.670 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-27 12:52:59.804 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-27 12:52:59.810 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 293.5318ms
2022-10-27 12:52:59.855 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-27 12:52:59.855 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-27 12:52:59.867 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 11.8218ms
2022-10-27 12:52:59.880 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.3991ms
2022-10-27 12:53:00.081 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-27 12:53:00.299 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 218.6969ms
2022-10-27 12:53:08.451 +01:00 [DBG] Connection id "0HMLO275KOVQU" accepted.
2022-10-27 12:53:08.454 +01:00 [DBG] Connection id "0HMLO275KOVQU" started.
2022-10-27 12:53:08.463 +01:00 [DBG] Connection 0HMLO275KOVQU established using the following protocol: "Tls13"
2022-10-27 12:53:08.486 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:53:08.489 +01:00 [DBG] POST requests are not supported
2022-10-27 12:53:08.510 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:53:08.511 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:53:08.578 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:53:08.593 +01:00 [DBG] Connection id "0HMLO275KOVQU" completed keep alive response.
2022-10-27 12:53:08.596 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 110.0800ms
2022-10-27 12:53:08.597 +01:00 [DBG] Connection id "0HMLO275KOVQU", Request id "0HMLO275KOVQU:00000002": started reading request body.
2022-10-27 12:53:08.602 +01:00 [DBG] Connection id "0HMLO275KOVQU", Request id "0HMLO275KOVQU:00000002": done reading request body.
2022-10-27 12:53:08.609 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - -
2022-10-27 12:53:08.611 +01:00 [DBG] The request path  does not match the path filter
2022-10-27 12:53:08.617 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/users/profile'
2022-10-27 12:53:08.625 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Users/Profile' is valid for the request path '/api/v1/users/profile'
2022-10-27 12:53:08.631 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-27 12:53:08.815 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-10-27 12:53:08.822 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-10-27 12:53:08.825 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-10-27 12:53:08.830 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-10-27 12:53:08.842 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-10-27 12:53:08.844 +01:00 [DBG] Connection id "0HMLO275KOVQU" completed keep alive response.
2022-10-27 12:53:08.845 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - - - 401 0 - 236.6241ms
2022-10-27 12:53:09.863 +01:00 [DBG] Connection id "0HMLO275KOVQV" accepted.
2022-10-27 12:53:09.864 +01:00 [DBG] Connection id "0HMLO275KOVQV" started.
2022-10-27 12:53:09.867 +01:00 [DBG] Connection 0HMLO275KOVQV established using the following protocol: "Tls13"
2022-10-27 12:53:09.868 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:53:09.869 +01:00 [DBG] POST requests are not supported
2022-10-27 12:53:09.870 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:53:09.871 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:53:09.873 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:53:09.874 +01:00 [DBG] Connection id "0HMLO275KOVQV" completed keep alive response.
2022-10-27 12:53:09.875 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 7.4475ms
2022-10-27 12:53:09.877 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000002": started reading request body.
2022-10-27 12:53:09.878 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000002": done reading request body.
2022-10-27 12:53:09.880 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/auth/login application/json;+charset=utf-8 -
2022-10-27 12:53:09.881 +01:00 [DBG] POST requests are not supported
2022-10-27 12:53:09.882 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/auth/login'
2022-10-27 12:53:09.883 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Auth/Login' is valid for the request path '/api/v1/auth/login'
2022-10-27 12:53:09.885 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)'
2022-10-27 12:53:09.887 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:53:09.888 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:53:09.890 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)'
2022-10-27 12:53:09.916 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.v1.Responses.LoginUserResponse]] Login(SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest) on controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API).
2022-10-27 12:53:09.921 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:53:09.922 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:53:09.924 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:53:09.926 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:53:09.927 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:53:09.929 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:53:10.081 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-27 12:53:10.111 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:53:10.117 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' ...
2022-10-27 12:53:10.121 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' using the name '' in request data ...
2022-10-27 12:53:10.124 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-27 12:53:10.129 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000003": started reading request body.
2022-10-27 12:53:10.131 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000003": done reading request body.
2022-10-27 12:53:10.136 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'
2022-10-27 12:53:10.139 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:53:10.140 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:53:10.142 +01:00 [DBG] Attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' ...
2022-10-27 12:53:10.149 +01:00 [DBG] Done attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:53:11.092 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:53:11.150 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2022-10-27 12:53:11.474 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
        SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
        FROM SB-operational.Users AS u
        WHERE u.username == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-27 12:53:11.518 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:53:11.597 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (75ms).
2022-10-27 12:53:11.606 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:53:11.765 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:11.783 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-27 12:53:11.873 +01:00 [INF] Executed DbCommand (96ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-27 12:53:11.918 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:53:11.968 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:53:11.973 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:11.982 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:53:11.989 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __userId_0)'
2022-10-27 12:53:11.995 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.user_id == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-27 12:53:11.999 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:53:12.000 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-27 12:53:12.001 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:53:12.002 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:12.003 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-27 12:53:12.012 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-27 12:53:12.018 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:53:12.028 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:53:12.030 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:12.031 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:53:12.034 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:53:12.037 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:53:12.038 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:53:12.040 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:53:12.041 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-10-27 12:53:12.042 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-10-27 12:53:12.050 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API) in 2117.4442ms
2022-10-27 12:53:12.053 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)'
2022-10-27 12:53:12.054 +01:00 [DBG] Connection id "0HMLO275KOVQV" completed keep alive response.
2022-10-27 12:53:12.058 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:53:12.062 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/auth/login application/json;+charset=utf-8 - - 400 - text/plain;+charset=utf-8 2182.6897ms
2022-10-27 12:53:12.064 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:53:12.065 +01:00 [DBG] POST requests are not supported
2022-10-27 12:53:12.066 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:53:12.067 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:53:12.068 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:53:12.069 +01:00 [DBG] Connection id "0HMLO275KOVQV" completed keep alive response.
2022-10-27 12:53:12.070 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 5.6771ms
2022-10-27 12:53:12.071 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000004": started reading request body.
2022-10-27 12:53:12.072 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000004": done reading request body.
2022-10-27 12:53:12.073 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/auth/GetTokenAgain application/json;+charset=utf-8 -
2022-10-27 12:53:12.074 +01:00 [DBG] POST requests are not supported
2022-10-27 12:53:12.076 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/auth/GetTokenAgain'
2022-10-27 12:53:12.077 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.GetUserToken (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Auth/GetTokenAgain' is valid for the request path '/api/v1/auth/GetTokenAgain'
2022-10-27 12:53:12.079 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-27 12:53:12.080 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:53:12.081 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:53:12.082 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-27 12:53:12.085 +01:00 [INF] Route matched with {action = "GetUserToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.v1.Responses.LoginUserResponse]] GetUserToken(SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest) on controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API).
2022-10-27 12:53:12.087 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:53:12.089 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:53:12.090 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:53:12.093 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:53:12.094 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:53:12.096 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:53:12.098 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:53:12.099 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' ...
2022-10-27 12:53:12.101 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' using the name '' in request data ...
2022-10-27 12:53:12.102 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-27 12:53:12.103 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000005": started reading request body.
2022-10-27 12:53:12.105 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000005": done reading request body.
2022-10-27 12:53:12.106 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'
2022-10-27 12:53:12.107 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:53:12.109 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:53:12.110 +01:00 [DBG] Attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' ...
2022-10-27 12:53:12.112 +01:00 [DBG] Done attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:53:12.147 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:53:12.152 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:53:12.153 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:53:12.155 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:53:12.156 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:12.158 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-27 12:53:12.161 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-27 12:53:12.163 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:53:12.164 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:53:12.165 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:12.166 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:53:12.172 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(t => t.UserId == __id_0)'
2022-10-27 12:53:12.177 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
            SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
            FROM SB-auth.UserTokens AS u
            WHERE u.user_id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-27 12:53:12.201 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:53:12.203 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:53:12.212 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:53:12.215 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:12.217 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__id_0
LIMIT 1
2022-10-27 12:53:12.231 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__id_0
LIMIT 1
2022-10-27 12:53:12.240 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:53:12.247 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:53:12.256 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:12.259 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:53:12.266 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:53:12.269 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:53:12.270 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:53:12.271 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:53:12.272 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-27 12:53:12.273 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.v1.Responses.LoginUserResponse'.
2022-10-27 12:53:12.281 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.AuthController.GetUserToken (SimpleBank.AcctManage.API) in 184.4147ms
2022-10-27 12:53:12.284 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-27 12:53:12.286 +01:00 [DBG] Connection id "0HMLO275KOVQV" completed keep alive response.
2022-10-27 12:53:12.287 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:53:12.289 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/auth/GetTokenAgain application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 216.1367ms
2022-10-27 12:53:12.304 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:53:12.305 +01:00 [DBG] POST requests are not supported
2022-10-27 12:53:12.305 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:53:12.306 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:53:12.307 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:53:12.308 +01:00 [DBG] Connection id "0HMLO275KOVQV" completed keep alive response.
2022-10-27 12:53:12.309 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 5.4697ms
2022-10-27 12:53:12.310 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000006": started reading request body.
2022-10-27 12:53:12.312 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000006": done reading request body.
2022-10-27 12:53:28.519 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:53:28.520 +01:00 [DBG] POST requests are not supported
2022-10-27 12:53:28.522 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:53:28.523 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:53:28.524 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:53:28.525 +01:00 [DBG] Connection id "0HMLO275KOVQV" completed keep alive response.
2022-10-27 12:53:28.526 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 6.9458ms
2022-10-27 12:53:28.529 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000007": started reading request body.
2022-10-27 12:53:28.531 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000007": done reading request body.
2022-10-27 12:53:28.532 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/auth/login application/json;+charset=utf-8 -
2022-10-27 12:53:28.532 +01:00 [DBG] POST requests are not supported
2022-10-27 12:53:28.533 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/auth/login'
2022-10-27 12:53:28.534 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Auth/Login' is valid for the request path '/api/v1/auth/login'
2022-10-27 12:53:28.536 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)'
2022-10-27 12:53:28.537 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:53:28.538 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:53:28.539 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)'
2022-10-27 12:53:28.540 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.v1.Responses.LoginUserResponse]] Login(SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest) on controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API).
2022-10-27 12:53:28.543 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:53:28.544 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:53:28.546 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:53:28.548 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:53:28.549 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:53:28.551 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:53:28.557 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:53:28.559 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' ...
2022-10-27 12:53:28.560 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' using the name '' in request data ...
2022-10-27 12:53:28.561 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-27 12:53:28.562 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000008": started reading request body.
2022-10-27 12:53:28.564 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000008": done reading request body.
2022-10-27 12:53:28.565 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'
2022-10-27 12:53:28.566 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:53:28.567 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:53:28.568 +01:00 [DBG] Attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' ...
2022-10-27 12:53:28.569 +01:00 [DBG] Done attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:53:36.096 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:53:36.099 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:53:36.100 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-27 12:53:36.101 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:53:36.102 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:36.104 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-27 12:53:36.107 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-27 12:53:36.110 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:53:36.111 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:53:36.112 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:36.113 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:53:44.970 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:53:44.971 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:53:44.972 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:53:44.973 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:44.975 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-27 12:53:44.978 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-27 12:53:44.980 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:53:44.981 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:53:44.982 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:53:44.983 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:54:03.339 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:54:03.349 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:54:03.350 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:54:03.351 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:54:03.352 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-10-27 12:54:03.353 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-10-27 12:54:03.355 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API) in 34804.1182ms
2022-10-27 12:54:03.356 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Login (SimpleBank.AcctManage.API)'
2022-10-27 12:54:03.358 +01:00 [DBG] Connection id "0HMLO275KOVQV" completed keep alive response.
2022-10-27 12:54:04.925 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:54:13.136 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/auth/login application/json;+charset=utf-8 - - 400 - text/plain;+charset=utf-8 44596.1747ms
2022-10-27 12:54:13.138 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:54:13.139 +01:00 [DBG] POST requests are not supported
2022-10-27 12:54:13.139 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:54:13.140 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:54:13.141 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:54:13.143 +01:00 [DBG] Connection id "0HMLO275KOVQV" completed keep alive response.
2022-10-27 12:54:13.145 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 6.9319ms
2022-10-27 12:54:13.146 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000009": started reading request body.
2022-10-27 12:54:13.148 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:00000009": done reading request body.
2022-10-27 12:54:13.149 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/auth/GetTokenAgain application/json;+charset=utf-8 -
2022-10-27 12:54:13.150 +01:00 [DBG] POST requests are not supported
2022-10-27 12:54:13.151 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/auth/GetTokenAgain'
2022-10-27 12:54:13.152 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.GetUserToken (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Auth/GetTokenAgain' is valid for the request path '/api/v1/auth/GetTokenAgain'
2022-10-27 12:54:13.154 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-27 12:54:13.156 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:54:13.157 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:54:13.158 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-27 12:54:13.160 +01:00 [INF] Route matched with {action = "GetUserToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.v1.Responses.LoginUserResponse]] GetUserToken(SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest) on controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API).
2022-10-27 12:54:13.162 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:54:13.163 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:54:13.164 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:54:13.167 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:54:13.168 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:54:13.170 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:54:13.171 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:54:13.173 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' ...
2022-10-27 12:54:13.175 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' using the name '' in request data ...
2022-10-27 12:54:13.177 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-27 12:54:13.178 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:0000000A": started reading request body.
2022-10-27 12:54:13.180 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:0000000A": done reading request body.
2022-10-27 12:54:13.181 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'
2022-10-27 12:54:13.182 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:54:13.183 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:54:13.185 +01:00 [DBG] Attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest' ...
2022-10-27 12:54:13.186 +01:00 [DBG] Done attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LoginUserRequest'.
2022-10-27 12:54:13.189 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:54:13.191 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:54:13.192 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-27 12:54:13.194 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:54:13.195 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:54:13.196 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-27 12:54:13.199 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-27 12:54:13.202 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:54:13.204 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:54:13.205 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:54:13.207 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:54:13.208 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:54:13.209 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-27 12:54:13.210 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:54:13.211 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:54:13.213 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__id_0
LIMIT 1
2022-10-27 12:54:13.217 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__id_0
LIMIT 1
2022-10-27 12:54:13.220 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:54:13.222 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:54:13.223 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:54:13.225 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:54:13.226 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:54:13.228 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:54:13.229 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:54:13.230 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:54:13.231 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-27 12:54:13.232 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.v1.Responses.LoginUserResponse'.
2022-10-27 12:54:13.235 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.AuthController.GetUserToken (SimpleBank.AcctManage.API) in 65.0831ms
2022-10-27 12:54:13.237 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-27 12:54:13.240 +01:00 [DBG] Connection id "0HMLO275KOVQV" completed keep alive response.
2022-10-27 12:54:13.241 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:54:13.242 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/auth/GetTokenAgain application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 93.1065ms
2022-10-27 12:54:13.254 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 -
2022-10-27 12:54:13.255 +01:00 [DBG] POST requests are not supported
2022-10-27 12:54:13.256 +01:00 [DBG] No candidates found for the request path '/api/v1/users/renew'
2022-10-27 12:54:13.257 +01:00 [DBG] Request did not match any endpoints
2022-10-27 12:54:13.257 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:54:13.258 +01:00 [DBG] Connection id "0HMLO275KOVQV" completed keep alive response.
2022-10-27 12:54:13.259 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/users/renew application/json;+charset=utf-8 - - 404 0 - 5.6737ms
2022-10-27 12:54:13.260 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:0000000B": started reading request body.
2022-10-27 12:54:13.262 +01:00 [DBG] Connection id "0HMLO275KOVQV", Request id "0HMLO275KOVQV:0000000B": done reading request body.
2022-10-27 12:54:18.286 +01:00 [DBG] Connection id "0HMLO275KOVQU" received FIN.
2022-10-27 12:54:18.289 +01:00 [DBG] Connection id "0HMLO275KOVQU" disconnecting.
2022-10-27 12:54:18.290 +01:00 [DBG] Connection id "0HMLO275KOVQU" sending FIN because: "The client closed the connection."
2022-10-27 12:54:18.292 +01:00 [DBG] Connection id "0HMLO275KOVQU" stopped.
2022-10-27 12:54:58.403 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-27 12:54:58.487 +01:00 [DBG] Hosting starting
2022-10-27 12:54:58.528 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-27 12:54:58.535 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-27 12:54:58.541 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-27 12:54:58.543 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-27 12:54:58.549 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-27 12:54:58.560 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-27 12:54:58.563 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-27 12:54:58.574 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-27 12:54:58.577 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-27 12:54:58.582 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-27 12:54:58.584 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-27 12:54:58.589 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-27 12:54:58.592 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-27 12:54:58.595 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-27 12:54:58.596 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-27 12:54:58.721 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-27 12:54:58.772 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-27 12:54:58.773 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-27 12:54:58.774 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-27 12:54:58.775 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-27 12:54:58.776 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-27 12:54:58.777 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-27 12:54:58.778 +01:00 [INF] Hosting environment: Development
2022-10-27 12:54:58.779 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-27 12:54:58.780 +01:00 [DBG] Hosting started
2022-10-27 12:54:58.852 +01:00 [DBG] Connection id "0HMLO289AMUDI" accepted.
2022-10-27 12:54:58.862 +01:00 [DBG] Connection id "0HMLO289AMUDI" started.
2022-10-27 12:54:58.870 +01:00 [DBG] Connection id "0HMLO289AMUDJ" received FIN.
2022-10-27 12:54:58.873 +01:00 [DBG] Connection id "0HMLO289AMUDI" received FIN.
2022-10-27 12:54:58.901 +01:00 [DBG] Connection id "0HMLO289AMUDJ" accepted.
2022-10-27 12:54:58.904 +01:00 [DBG] Connection id "0HMLO289AMUDJ" started.
2022-10-27 12:54:58.910 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-27 12:54:58.912 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-27 12:54:58.971 +01:00 [DBG] Connection id "0HMLO289AMUDJ" stopped.
2022-10-27 12:54:58.971 +01:00 [DBG] Connection id "0HMLO289AMUDI" stopped.
2022-10-27 12:54:58.974 +01:00 [DBG] Connection id "0HMLO289AMUDI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-27 12:54:58.974 +01:00 [DBG] Connection id "0HMLO289AMUDJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-27 12:54:59.244 +01:00 [DBG] Connection id "0HMLO289AMUDK" accepted.
2022-10-27 12:54:59.245 +01:00 [DBG] Connection id "0HMLO289AMUDK" started.
2022-10-27 12:54:59.330 +01:00 [DBG] Connection 0HMLO289AMUDK established using the following protocol: "Tls13"
2022-10-27 12:54:59.387 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-27 12:54:59.420 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-27 12:54:59.535 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-27 12:54:59.682 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-27 12:54:59.688 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 303.7405ms
2022-10-27 12:54:59.730 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-27 12:54:59.730 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-27 12:54:59.741 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 11.2771ms
2022-10-27 12:54:59.752 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.3443ms
2022-10-27 12:54:59.944 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-27 12:55:00.182 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 237.4907ms
2022-10-27 12:55:06.335 +01:00 [DBG] Connection id "0HMLO289AMUDL" accepted.
2022-10-27 12:55:06.336 +01:00 [DBG] Connection id "0HMLO289AMUDL" started.
2022-10-27 12:55:06.345 +01:00 [DBG] Connection 0HMLO289AMUDL established using the following protocol: "Tls13"
2022-10-27 12:55:06.368 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/auth/renew application/json;+charset=utf-8 -
2022-10-27 12:55:06.372 +01:00 [DBG] POST requests are not supported
2022-10-27 12:55:06.400 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/auth/renew'
2022-10-27 12:55:06.408 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.RenewToken (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Auth/Renew' is valid for the request path '/api/v1/auth/renew'
2022-10-27 12:55:06.415 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-27 12:55:06.484 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:55:06.490 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:55:06.493 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-27 12:55:06.522 +01:00 [INF] Route matched with {action = "RenewToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.v1.Responses.LoginUserResponse]] RenewToken(SimpleBank.AcctManage.API.DTModels.v1.Requests.RenewRequest) on controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API).
2022-10-27 12:55:06.526 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:55:06.527 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:55:06.529 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:06.531 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:55:06.533 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:06.536 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:55:06.708 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-27 12:55:06.735 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:55:06.749 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.RenewRequest' ...
2022-10-27 12:55:06.752 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.RenewRequest' using the name '' in request data ...
2022-10-27 12:55:06.754 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-27 12:55:06.760 +01:00 [DBG] Connection id "0HMLO289AMUDL", Request id "0HMLO289AMUDL:00000002": started reading request body.
2022-10-27 12:55:06.765 +01:00 [DBG] Connection id "0HMLO289AMUDL", Request id "0HMLO289AMUDL:00000002": done reading request body.
2022-10-27 12:55:06.769 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.RenewRequest'
2022-10-27 12:55:06.772 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.RenewRequest'.
2022-10-27 12:55:06.773 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.RenewRequest'.
2022-10-27 12:55:06.774 +01:00 [DBG] Attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.RenewRequest' ...
2022-10-27 12:55:06.781 +01:00 [DBG] Done attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.RenewRequest'.
2022-10-27 12:55:07.758 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:55:07.813 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)'
2022-10-27 12:55:08.149 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.refresh_token == @__refreshToken_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-27 12:55:08.198 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:08.278 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (75ms).
2022-10-27 12:55:08.288 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:08.474 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:08.489 +01:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-27 12:55:08.586 +01:00 [INF] Executed DbCommand (101ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-27 12:55:08.628 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:08.672 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:08.677 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:08.686 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:08.850 +01:00 [DBG] 'SimpleBankDbContext' generated a temporary value for the property 'Id.UserToken'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:08.864 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:08.873 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-27 12:55:08.876 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-27 12:55:08.892 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-27 12:55:08.924 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:08.928 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:08.932 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-27 12:55:08.943 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-27 12:55:08.998 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:09.000 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:55:09.003 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-27 12:55:09.052 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-27 12:55:09.077 +01:00 [DBG] The foreign key property 'UserToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-27 12:55:09.089 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:09.103 +01:00 [DBG] Committing transaction.
2022-10-27 12:55:09.118 +01:00 [DBG] Committed transaction.
2022-10-27 12:55:09.126 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:09.129 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:09.135 +01:00 [DBG] Disposing transaction.
2022-10-27 12:55:09.150 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:09.157 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-27 12:55:09.167 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:55:09.171 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:55:09.172 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:55:09.173 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:55:09.175 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-27 12:55:09.176 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.v1.Responses.LoginUserResponse'.
2022-10-27 12:55:09.191 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.AuthController.RenewToken (SimpleBank.AcctManage.API) in 2651.4403ms
2022-10-27 12:55:09.194 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-27 12:55:09.198 +01:00 [DBG] Connection id "0HMLO289AMUDL" completed keep alive response.
2022-10-27 12:55:09.201 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:55:09.206 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/auth/renew application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2837.6309ms
2022-10-27 12:55:09.221 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - -
2022-10-27 12:55:09.222 +01:00 [DBG] The request path  does not match the path filter
2022-10-27 12:55:09.224 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/users/profile'
2022-10-27 12:55:09.225 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Users/Profile' is valid for the request path '/api/v1/users/profile'
2022-10-27 12:55:09.227 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-27 12:55:09.229 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:55:09.230 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-27 12:55:09.235 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-10-27 12:55:09.245 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-10-27 12:55:09.246 +01:00 [DBG] Connection id "0HMLO289AMUDL" completed keep alive response.
2022-10-27 12:55:09.248 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - - - 401 0 - 27.3378ms
2022-10-27 12:55:11.053 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - -
2022-10-27 12:55:11.054 +01:00 [DBG] The request path  does not match the path filter
2022-10-27 12:55:11.056 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/users/profile'
2022-10-27 12:55:11.058 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Users/Profile' is valid for the request path '/api/v1/users/profile'
2022-10-27 12:55:11.060 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-27 12:55:11.130 +01:00 [DBG] Successfully validated the token.
2022-10-27 12:55:11.133 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:11.134 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:11.136 +01:00 [DBG] Authorization was successful.
2022-10-27 12:55:11.136 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-27 12:55:11.139 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.v1.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.v1.UsersController (SimpleBank.AcctManage.API).
2022-10-27 12:55:11.142 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:55:11.143 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:55:11.144 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:11.146 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:55:11.148 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:11.150 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.UsersController (SimpleBank.AcctManage.API)
2022-10-27 12:55:11.151 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.UsersController (SimpleBank.AcctManage.API)
2022-10-27 12:55:11.194 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:55:11.208 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: (object)__get_Item_0))'
2022-10-27 12:55:11.288 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
            SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
            FROM SB-operational.Users AS u
            WHERE u.user_id == @__get_Item_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-27 12:55:11.304 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:11.306 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:55:11.307 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:11.308 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:11.309 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-27 12:55:11.314 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-27 12:55:11.331 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:11.350 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:11.352 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:11.354 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:11.356 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:55:11.358 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:55:11.360 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:55:11.361 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:55:11.363 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-27 12:55:11.364 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.v1.Responses.CreateUserResponse'.
2022-10-27 12:55:11.367 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 217.627ms
2022-10-27 12:55:11.369 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-27 12:55:11.371 +01:00 [DBG] Connection id "0HMLO289AMUDL" completed keep alive response.
2022-10-27 12:55:11.372 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:55:11.373 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - - - 200 - application/json;+charset=utf-8 319.8077ms
2022-10-27 12:55:19.253 +01:00 [DBG] Connection id "0HMLO289AMUDM" accepted.
2022-10-27 12:55:19.255 +01:00 [DBG] Connection id "0HMLO289AMUDM" started.
2022-10-27 12:55:19.259 +01:00 [DBG] Connection 0HMLO289AMUDM established using the following protocol: "Tls13"
2022-10-27 12:55:19.261 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/v1/accounts/ - -
2022-10-27 12:55:19.262 +01:00 [DBG] The request path  does not match the path filter
2022-10-27 12:55:19.263 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/accounts/'
2022-10-27 12:55:19.264 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Accounts' is valid for the request path '/api/v1/accounts/'
2022-10-27 12:55:19.266 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-27 12:55:19.268 +01:00 [DBG] Successfully validated the token.
2022-10-27 12:55:19.269 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:19.270 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:19.271 +01:00 [DBG] Authorization was successful.
2022-10-27 12:55:19.272 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-27 12:55:19.275 +01:00 [INF] Route matched with {action = "GetAllAccounts", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[SimpleBank.AcctManage.API.DTModels.v1.Responses.AccountResponse]]] GetAllAccounts() on controller SimpleBank.AcctManage.API.Controllers.v1.AccountsController (SimpleBank.AcctManage.API).
2022-10-27 12:55:19.277 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:55:19.278 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:55:19.280 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:19.282 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:55:19.284 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:19.285 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AccountsController (SimpleBank.AcctManage.API)
2022-10-27 12:55:19.288 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AccountsController (SimpleBank.AcctManage.API)
2022-10-27 12:55:19.302 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:55:19.307 +01:00 [DBG] Compiling query expression: 
'DbSet<Account>()
    .Where(account => account.UserId == __userId_0)'
2022-10-27 12:55:19.311 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Account>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Account.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Account.Balance (decimal) Required, 1], [Property: Account.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Account.Currency (string) Required ValueGenerated.OnAdd MaxLength(3), 3], [Property: Account.UserId (Guid) Required FK Index, 4] }
        SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
        FROM SB-operational.Accounts AS a
        WHERE a.user_id == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Account>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)'
2022-10-27 12:55:19.314 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:19.315 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-27 12:55:19.316 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:19.317 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:19.318 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-27 12:55:19.324 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-27 12:55:19.342 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:19.355 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:19.357 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:19.358 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:19.360 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:19.362 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:19.364 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:19.365 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:19.366 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:19.371 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:19.372 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:55:19.374 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:19.375 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:19.376 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-27 12:55:19.379 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-27 12:55:19.382 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:19.383 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:19.385 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:19.387 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:55:19.390 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:55:19.391 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:55:19.393 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:55:19.394 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-27 12:55:19.396 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SimpleBank.AcctManage.API.DTModels.v1.Responses.AccountResponse, SimpleBank.AcctManage.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-27 12:55:19.406 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API) in 120.6565ms
2022-10-27 12:55:19.410 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-27 12:55:19.412 +01:00 [DBG] Connection id "0HMLO289AMUDM" completed keep alive response.
2022-10-27 12:55:19.413 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:55:19.414 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/v1/accounts/ - - - 200 - application/json;+charset=utf-8 153.1957ms
2022-10-27 12:55:29.322 +01:00 [DBG] Connection id "0HMLO289AMUDN" accepted.
2022-10-27 12:55:29.323 +01:00 [DBG] Connection id "0HMLO289AMUDN" started.
2022-10-27 12:55:29.326 +01:00 [DBG] Connection 0HMLO289AMUDN established using the following protocol: "Tls13"
2022-10-27 12:55:29.328 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/v1/accounts/2cdcf524-7bff-4398-83d2-78c16cda8891 - -
2022-10-27 12:55:29.329 +01:00 [DBG] The request path  does not match the path filter
2022-10-27 12:55:29.330 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/accounts/2cdcf524-7bff-4398-83d2-78c16cda8891'
2022-10-27 12:55:29.331 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAccount (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Accounts/{accountId}' is valid for the request path '/api/v1/accounts/2cdcf524-7bff-4398-83d2-78c16cda8891'
2022-10-27 12:55:29.333 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAccount (SimpleBank.AcctManage.API)'
2022-10-27 12:55:29.335 +01:00 [DBG] Successfully validated the token.
2022-10-27 12:55:29.335 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:29.336 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:29.337 +01:00 [DBG] Authorization was successful.
2022-10-27 12:55:29.338 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAccount (SimpleBank.AcctManage.API)'
2022-10-27 12:55:29.342 +01:00 [INF] Route matched with {action = "GetAccount", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.v1.Responses.AccountMovims]] GetAccount(System.Guid) on controller SimpleBank.AcctManage.API.Controllers.v1.AccountsController (SimpleBank.AcctManage.API).
2022-10-27 12:55:29.345 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:55:29.346 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:55:29.348 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:29.350 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:55:29.351 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:29.353 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AccountsController (SimpleBank.AcctManage.API)
2022-10-27 12:55:29.354 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AccountsController (SimpleBank.AcctManage.API)
2022-10-27 12:55:29.356 +01:00 [DBG] Attempting to bind parameter 'accountId' of type 'System.Guid' ...
2022-10-27 12:55:29.357 +01:00 [DBG] Attempting to bind parameter 'accountId' of type 'System.Guid' using the name 'accountId' in request data ...
2022-10-27 12:55:29.360 +01:00 [DBG] Done attempting to bind parameter 'accountId' of type 'System.Guid'.
2022-10-27 12:55:29.362 +01:00 [DBG] Done attempting to bind parameter 'accountId' of type 'System.Guid'.
2022-10-27 12:55:29.364 +01:00 [DBG] Attempting to validate the bound parameter 'accountId' of type 'System.Guid' ...
2022-10-27 12:55:29.365 +01:00 [DBG] Done attempting to validate the bound parameter 'accountId' of type 'System.Guid'.
2022-10-27 12:55:29.369 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:55:29.372 +01:00 [DBG] Compiling query expression: 
'DbSet<Account>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: (object)__get_Item_0))'
2022-10-27 12:55:29.375 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Account>(
    asyncEnumerable: new SingleQueryingEnumerable<Account>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Account.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Account.Balance (decimal) Required, 1], [Property: Account.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Account.Currency (string) Required ValueGenerated.OnAdd MaxLength(3), 3], [Property: Account.UserId (Guid) Required FK Index, 4] }
            SELECT TOP(1) a.account_id, a.balance, a.created_at, a.currency, a.user_id
            FROM SB-operational.Accounts AS a
            WHERE a.account_id == @__get_Item_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Account>, 
        SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-27 12:55:29.381 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:29.382 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:55:29.383 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:29.384 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:29.386 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.account_id = @__get_Item_0
LIMIT 1
2022-10-27 12:55:29.390 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.account_id = @__get_Item_0
LIMIT 1
2022-10-27 12:55:29.394 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:29.398 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:29.399 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:29.402 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:29.407 +01:00 [DBG] Compiling query expression: 
'DbSet<Movement>()
    .Where(movement => movement.AccountId == __accountId_0)'
2022-10-27 12:55:29.414 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Movement>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Movement.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Movement.AccountId (Guid) Required FK Index, 1], [Property: Movement.Amount (decimal) Required, 2], [Property: Movement.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3] }
        SELECT m.movement_id, m.account_id, m.amount, m.created_at
        FROM SB-operational.Movements AS m
        WHERE m.account_id == @__accountId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Movement>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)'
2022-10-27 12:55:29.418 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:29.419 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:55:29.421 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:29.422 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:29.423 +01:00 [DBG] Executing DbCommand [Parameters=[@__accountId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m.movement_id, m.account_id, m.amount, m.created_at
FROM "SB-operational"."Movements" AS m
WHERE m.account_id = @__accountId_0
2022-10-27 12:55:29.429 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accountId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m.movement_id, m.account_id, m.amount, m.created_at
FROM "SB-operational"."Movements" AS m
WHERE m.account_id = @__accountId_0
2022-10-27 12:55:29.433 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:29.434 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:29.435 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:29.437 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:55:29.440 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:55:29.440 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:55:29.442 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:55:29.443 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-27 12:55:29.445 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.v1.Responses.AccountMovims'.
2022-10-27 12:55:29.450 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAccount (SimpleBank.AcctManage.API) in 96.6846ms
2022-10-27 12:55:29.451 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAccount (SimpleBank.AcctManage.API)'
2022-10-27 12:55:29.452 +01:00 [DBG] Connection id "0HMLO289AMUDN" completed keep alive response.
2022-10-27 12:55:29.454 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:55:29.455 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/v1/accounts/2cdcf524-7bff-4398-83d2-78c16cda8891 - - - 200 - application/json;+charset=utf-8 127.2988ms
2022-10-27 12:55:30.610 +01:00 [DBG] Connection id "0HMLO289AMUDO" accepted.
2022-10-27 12:55:30.611 +01:00 [DBG] Connection id "0HMLO289AMUDO" started.
2022-10-27 12:55:30.614 +01:00 [DBG] Connection 0HMLO289AMUDO established using the following protocol: "Tls13"
2022-10-27 12:55:30.615 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/v1/accounts/268f578c-c52e-49cc-afed-970579676dba - -
2022-10-27 12:55:30.616 +01:00 [DBG] The request path  does not match the path filter
2022-10-27 12:55:30.617 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/accounts/268f578c-c52e-49cc-afed-970579676dba'
2022-10-27 12:55:30.618 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAccount (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Accounts/{accountId}' is valid for the request path '/api/v1/accounts/268f578c-c52e-49cc-afed-970579676dba'
2022-10-27 12:55:30.620 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAccount (SimpleBank.AcctManage.API)'
2022-10-27 12:55:30.621 +01:00 [DBG] Successfully validated the token.
2022-10-27 12:55:30.622 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:30.623 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:30.624 +01:00 [DBG] Authorization was successful.
2022-10-27 12:55:30.625 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAccount (SimpleBank.AcctManage.API)'
2022-10-27 12:55:30.628 +01:00 [INF] Route matched with {action = "GetAccount", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.v1.Responses.AccountMovims]] GetAccount(System.Guid) on controller SimpleBank.AcctManage.API.Controllers.v1.AccountsController (SimpleBank.AcctManage.API).
2022-10-27 12:55:30.630 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:55:30.631 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:55:30.633 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:30.635 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:55:30.636 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:30.638 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AccountsController (SimpleBank.AcctManage.API)
2022-10-27 12:55:30.643 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AccountsController (SimpleBank.AcctManage.API)
2022-10-27 12:55:30.646 +01:00 [DBG] Attempting to bind parameter 'accountId' of type 'System.Guid' ...
2022-10-27 12:55:30.648 +01:00 [DBG] Attempting to bind parameter 'accountId' of type 'System.Guid' using the name 'accountId' in request data ...
2022-10-27 12:55:30.649 +01:00 [DBG] Done attempting to bind parameter 'accountId' of type 'System.Guid'.
2022-10-27 12:55:30.650 +01:00 [DBG] Done attempting to bind parameter 'accountId' of type 'System.Guid'.
2022-10-27 12:55:30.652 +01:00 [DBG] Attempting to validate the bound parameter 'accountId' of type 'System.Guid' ...
2022-10-27 12:55:30.653 +01:00 [DBG] Done attempting to validate the bound parameter 'accountId' of type 'System.Guid'.
2022-10-27 12:55:30.654 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:55:30.657 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:30.658 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:55:30.660 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:30.662 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:30.664 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.account_id = @__get_Item_0
LIMIT 1
2022-10-27 12:55:30.668 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.account_id = @__get_Item_0
LIMIT 1
2022-10-27 12:55:30.672 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:30.674 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:30.674 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:30.676 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:30.677 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:30.679 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:55:30.680 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:30.682 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:30.683 +01:00 [DBG] Executing DbCommand [Parameters=[@__accountId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m.movement_id, m.account_id, m.amount, m.created_at
FROM "SB-operational"."Movements" AS m
WHERE m.account_id = @__accountId_0
2022-10-27 12:55:30.686 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m.movement_id, m.account_id, m.amount, m.created_at
FROM "SB-operational"."Movements" AS m
WHERE m.account_id = @__accountId_0
2022-10-27 12:55:30.690 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Movement' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:30.712 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Movement' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:30.714 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:30.715 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:30.716 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:30.718 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:55:30.721 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:55:30.722 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:55:30.723 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:55:30.723 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-27 12:55:30.725 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.v1.Responses.AccountMovims'.
2022-10-27 12:55:30.726 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAccount (SimpleBank.AcctManage.API) in 88.3095ms
2022-10-27 12:55:30.729 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AccountsController.GetAccount (SimpleBank.AcctManage.API)'
2022-10-27 12:55:30.730 +01:00 [DBG] Connection id "0HMLO289AMUDO" completed keep alive response.
2022-10-27 12:55:30.731 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:55:30.733 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/v1/accounts/268f578c-c52e-49cc-afed-970579676dba - - - 200 - application/json;+charset=utf-8 117.5050ms
2022-10-27 12:55:56.474 +01:00 [DBG] Connection id "0HMLO289AMUDP" accepted.
2022-10-27 12:55:56.484 +01:00 [DBG] Connection id "0HMLO289AMUDP" started.
2022-10-27 12:55:56.494 +01:00 [DBG] Connection 0HMLO289AMUDP established using the following protocol: "Tls13"
2022-10-27 12:55:56.495 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - -
2022-10-27 12:55:56.496 +01:00 [DBG] The request path  does not match the path filter
2022-10-27 12:55:56.498 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/users/profile'
2022-10-27 12:55:56.499 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Users/Profile' is valid for the request path '/api/v1/users/profile'
2022-10-27 12:55:56.500 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-27 12:55:56.501 +01:00 [DBG] Successfully validated the token.
2022-10-27 12:55:56.502 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:56.503 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:56.504 +01:00 [DBG] Authorization was successful.
2022-10-27 12:55:56.505 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-27 12:55:56.506 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.v1.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.v1.UsersController (SimpleBank.AcctManage.API).
2022-10-27 12:55:56.508 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:55:56.510 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:55:56.512 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:56.515 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:55:56.516 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:56.518 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.UsersController (SimpleBank.AcctManage.API)
2022-10-27 12:55:56.521 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.UsersController (SimpleBank.AcctManage.API)
2022-10-27 12:55:56.523 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:55:56.525 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:56.526 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:55:56.527 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:56.529 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:56.530 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-27 12:55:56.534 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-27 12:55:56.538 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:56.539 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:56.540 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:56.541 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:56.543 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:55:56.545 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:55:56.546 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:55:56.547 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:55:56.548 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-27 12:55:56.549 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.v1.Responses.CreateUserResponse'.
2022-10-27 12:55:56.551 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 32.5477ms
2022-10-27 12:55:56.553 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-27 12:55:56.555 +01:00 [DBG] Connection id "0HMLO289AMUDP" completed keep alive response.
2022-10-27 12:55:56.556 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:55:56.558 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/v1/users/profile - - - 200 - application/json;+charset=utf-8 62.7846ms
2022-10-27 12:55:59.117 +01:00 [DBG] Connection id "0HMLO289AMUDQ" accepted.
2022-10-27 12:55:59.118 +01:00 [DBG] Connection id "0HMLO289AMUDQ" started.
2022-10-27 12:55:59.121 +01:00 [DBG] Connection 0HMLO289AMUDQ established using the following protocol: "Tls13"
2022-10-27 12:55:59.122 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/v1/auth/logout application/json;+charset=utf-8 -
2022-10-27 12:55:59.123 +01:00 [DBG] POST requests are not supported
2022-10-27 12:55:59.125 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/auth/logout'
2022-10-27 12:55:59.126 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Logout (SimpleBank.AcctManage.API)' with route pattern 'api/v{version:apiVersion}/Auth/Logout' is valid for the request path '/api/v1/auth/logout'
2022-10-27 12:55:59.127 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Logout (SimpleBank.AcctManage.API)'
2022-10-27 12:55:59.129 +01:00 [DBG] Successfully validated the token.
2022-10-27 12:55:59.129 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:59.130 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-27 12:55:59.131 +01:00 [DBG] Authorization was successful.
2022-10-27 12:55:59.132 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Logout (SimpleBank.AcctManage.API)'
2022-10-27 12:55:59.135 +01:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(SimpleBank.AcctManage.API.DTModels.v1.Requests.LogoutUserRequest) on controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API).
2022-10-27 12:55:59.137 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-27 12:55:59.138 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-27 12:55:59.140 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:59.142 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-27 12:55:59.144 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-10-27 12:55:59.145 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:55:59.147 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.v1.AuthController (SimpleBank.AcctManage.API)
2022-10-27 12:55:59.148 +01:00 [DBG] Attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LogoutUserRequest' ...
2022-10-27 12:55:59.149 +01:00 [DBG] Attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LogoutUserRequest' using the name '' in request data ...
2022-10-27 12:55:59.151 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-27 12:55:59.152 +01:00 [DBG] Connection id "0HMLO289AMUDQ", Request id "0HMLO289AMUDQ:00000002": started reading request body.
2022-10-27 12:55:59.154 +01:00 [DBG] Connection id "0HMLO289AMUDQ", Request id "0HMLO289AMUDQ:00000002": done reading request body.
2022-10-27 12:55:59.157 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LogoutUserRequest'
2022-10-27 12:55:59.158 +01:00 [DBG] Done attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LogoutUserRequest'.
2022-10-27 12:55:59.160 +01:00 [DBG] Done attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LogoutUserRequest'.
2022-10-27 12:55:59.162 +01:00 [DBG] Attempting to validate the bound parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LogoutUserRequest' ...
2022-10-27 12:55:59.164 +01:00 [DBG] Done attempting to validate the bound parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.v1.Requests.LogoutUserRequest'.
2022-10-27 12:55:59.168 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-27 12:55:59.170 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.Id == __userTokenId_0)'
2022-10-27 12:55:59.174 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.user_token_id == @__userTokenId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-27 12:55:59.177 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:59.178 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-27 12:55:59.179 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:59.180 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:59.181 +01:00 [DBG] Executing DbCommand [Parameters=[@__userTokenId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_token_id = @__userTokenId_0
LIMIT 1
2022-10-27 12:55:59.185 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userTokenId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_token_id = @__userTokenId_0
LIMIT 1
2022-10-27 12:55:59.187 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:59.189 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:59.190 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:59.191 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:59.192 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:59.194 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-27 12:55:59.195 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-27 12:55:59.196 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-27 12:55:59.197 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:59.198 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:59.200 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-27 12:55:59.201 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-27 12:55:59.205 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-27 12:55:59.207 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-27 12:55:59.209 +01:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SB-auth"."UserTokens" SET access_token = @p0, access_token_expires_at = @p1, created_at = @p2, refresh_token = @p3, refresh_token_expires_at = @p4, user_id = @p5
WHERE user_token_id = @p6;
2022-10-27 12:55:59.214 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SB-auth"."UserTokens" SET access_token = @p0, access_token_expires_at = @p1, created_at = @p2, refresh_token = @p3, refresh_token_expires_at = @p4, user_id = @p5
WHERE user_token_id = @p6;
2022-10-27 12:55:59.217 +01:00 [DBG] A data reader was disposed.
2022-10-27 12:55:59.219 +01:00 [DBG] Committing transaction.
2022-10-27 12:55:59.221 +01:00 [DBG] Committed transaction.
2022-10-27 12:55:59.222 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-27 12:55:59.223 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-27 12:55:59.224 +01:00 [DBG] Disposing transaction.
2022-10-27 12:55:59.225 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-27 12:55:59.227 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-27 12:55:59.231 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-27 12:55:59.234 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-27 12:55:59.235 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-27 12:55:59.236 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-27 12:55:59.237 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-10-27 12:55:59.239 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-10-27 12:55:59.241 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.v1.AuthController.Logout (SimpleBank.AcctManage.API) in 95.6506ms
2022-10-27 12:55:59.243 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.v1.AuthController.Logout (SimpleBank.AcctManage.API)'
2022-10-27 12:55:59.245 +01:00 [DBG] Connection id "0HMLO289AMUDQ" completed keep alive response.
2022-10-27 12:55:59.246 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-27 12:55:59.248 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/v1/auth/logout application/json;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 126.0069ms
2022-10-27 12:56:17.501 +01:00 [DBG] Connection id "0HMLO289AMUDQ" received FIN.
2022-10-27 12:56:17.503 +01:00 [DBG] Connection id "0HMLO289AMUDQ" disconnecting.
2022-10-27 12:56:17.504 +01:00 [DBG] Connection id "0HMLO289AMUDQ" sending FIN because: "The client closed the connection."
2022-10-27 12:56:17.513 +01:00 [DBG] Connection id "0HMLO289AMUDN" received FIN.
2022-10-27 12:56:17.513 +01:00 [DBG] Connection id "0HMLO289AMUDM" received FIN.
2022-10-27 12:56:17.513 +01:00 [DBG] Connection id "0HMLO289AMUDO" received FIN.
2022-10-27 12:56:17.513 +01:00 [DBG] Connection id "0HMLO289AMUDP" received FIN.
2022-10-27 12:56:17.513 +01:00 [DBG] Connection id "0HMLO289AMUDL" received FIN.
2022-10-27 12:56:17.514 +01:00 [DBG] Connection id "0HMLO289AMUDN" disconnecting.
2022-10-27 12:56:17.516 +01:00 [DBG] Connection id "0HMLO289AMUDM" disconnecting.
2022-10-27 12:56:17.519 +01:00 [DBG] Connection id "0HMLO289AMUDO" disconnecting.
2022-10-27 12:56:17.520 +01:00 [DBG] Connection id "0HMLO289AMUDN" sending FIN because: "The client closed the connection."
2022-10-27 12:56:17.521 +01:00 [DBG] Connection id "0HMLO289AMUDM" sending FIN because: "The client closed the connection."
2022-10-27 12:56:17.522 +01:00 [DBG] Connection id "0HMLO289AMUDO" stopped.
2022-10-27 12:56:17.523 +01:00 [DBG] Connection id "0HMLO289AMUDP" disconnecting.
2022-10-27 12:56:17.524 +01:00 [DBG] Connection id "0HMLO289AMUDN" stopped.
2022-10-27 12:56:17.524 +01:00 [DBG] Connection id "0HMLO289AMUDQ" stopped.
2022-10-27 12:56:17.526 +01:00 [DBG] Connection id "0HMLO289AMUDL" disconnecting.
2022-10-27 12:56:17.527 +01:00 [DBG] Connection id "0HMLO289AMUDP" sending FIN because: "The client closed the connection."
2022-10-27 12:56:17.528 +01:00 [DBG] Connection id "0HMLO289AMUDM" stopped.
2022-10-27 12:56:17.530 +01:00 [DBG] Connection id "0HMLO289AMUDO" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-27 12:56:17.530 +01:00 [DBG] Connection id "0HMLO289AMUDL" sending FIN because: "The client closed the connection."
2022-10-27 12:56:17.539 +01:00 [DBG] Connection id "0HMLO289AMUDL" stopped.
2022-10-27 12:56:17.539 +01:00 [DBG] Connection id "0HMLO289AMUDP" stopped.
