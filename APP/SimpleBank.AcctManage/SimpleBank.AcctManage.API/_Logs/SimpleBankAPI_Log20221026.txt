2022-10-26 21:40:06.817 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 21:40:06.925 +01:00 [DBG] Hosting starting
2022-10-26 21:40:06.968 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 21:40:06.971 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 21:40:06.977 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 21:40:06.979 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 21:40:06.986 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 21:40:06.997 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 21:40:06.998 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 21:40:07.011 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 21:40:07.014 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 21:40:07.018 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 21:40:07.020 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 21:40:07.025 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 21:40:07.027 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 21:40:07.031 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 21:40:07.032 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 21:40:07.181 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 21:40:07.258 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 21:40:07.259 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 21:40:07.260 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 21:40:07.261 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 21:40:07.262 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 21:40:07.263 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 21:40:07.264 +01:00 [INF] Hosting environment: Development
2022-10-26 21:40:07.265 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 21:40:07.266 +01:00 [DBG] Hosting started
2022-10-26 21:40:07.502 +01:00 [DBG] Connection id "0HMLNI92E11CL" received FIN.
2022-10-26 21:40:07.502 +01:00 [DBG] Connection id "0HMLNI92E11CM" received FIN.
2022-10-26 21:40:07.583 +01:00 [DBG] Connection id "0HMLNI92E11CM" accepted.
2022-10-26 21:40:07.586 +01:00 [DBG] Connection id "0HMLNI92E11CL" accepted.
2022-10-26 21:40:07.589 +01:00 [DBG] Connection id "0HMLNI92E11CM" started.
2022-10-26 21:40:07.592 +01:00 [DBG] Connection id "0HMLNI92E11CL" started.
2022-10-26 21:40:07.610 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 21:40:07.610 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 21:40:07.752 +01:00 [DBG] Connection id "0HMLNI92E11CM" stopped.
2022-10-26 21:40:07.752 +01:00 [DBG] Connection id "0HMLNI92E11CL" stopped.
2022-10-26 21:40:07.757 +01:00 [DBG] Connection id "0HMLNI92E11CL" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 21:40:07.757 +01:00 [DBG] Connection id "0HMLNI92E11CM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 21:40:12.891 +01:00 [DBG] Connection id "0HMLNI92E11CN" accepted.
2022-10-26 21:40:12.893 +01:00 [DBG] Connection id "0HMLNI92E11CN" started.
2022-10-26 21:40:12.940 +01:00 [DBG] Connection 0HMLNI92E11CN established using the following protocol: "Tls13"
2022-10-26 21:40:12.993 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 21:40:13.031 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 21:40:13.174 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 21:40:13.314 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 21:40:13.324 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 332.1817ms
2022-10-26 21:40:13.413 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 21:40:13.413 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 21:40:13.521 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 108.1397ms
2022-10-26 21:40:13.589 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 175.6933ms
2022-10-26 21:40:13.723 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 21:40:13.912 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 189.2440ms
2022-10-26 21:42:06.813 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 21:42:06.931 +01:00 [DBG] Hosting starting
2022-10-26 21:42:06.970 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 21:42:06.974 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 21:42:06.979 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 21:42:06.980 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 21:42:06.986 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 21:42:06.991 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 21:42:06.992 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 21:42:07.001 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 21:42:07.004 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 21:42:07.008 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 21:42:07.010 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 21:42:07.015 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 21:42:07.018 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 21:42:07.022 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 21:42:07.023 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 21:42:07.173 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 21:42:07.215 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 21:42:07.216 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 21:42:07.217 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 21:42:07.218 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 21:42:07.219 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 21:42:07.221 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 21:42:07.221 +01:00 [INF] Hosting environment: Development
2022-10-26 21:42:07.222 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 21:42:07.223 +01:00 [DBG] Hosting started
2022-10-26 21:42:07.590 +01:00 [DBG] Connection id "0HMLNIA678ULG" received FIN.
2022-10-26 21:42:07.616 +01:00 [DBG] Connection id "0HMLNIA678ULG" accepted.
2022-10-26 21:42:07.624 +01:00 [DBG] Connection id "0HMLNIA678ULG" started.
2022-10-26 21:42:07.650 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 21:42:07.711 +01:00 [DBG] Connection id "0HMLNIA678ULG" stopped.
2022-10-26 21:42:07.716 +01:00 [DBG] Connection id "0HMLNIA678ULG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 21:42:08.035 +01:00 [DBG] Connection id "0HMLNIA678ULH" accepted.
2022-10-26 21:42:08.037 +01:00 [DBG] Connection id "0HMLNIA678ULH" started.
2022-10-26 21:42:08.136 +01:00 [DBG] Connection 0HMLNIA678ULH established using the following protocol: "Tls13"
2022-10-26 21:42:08.203 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 21:42:08.238 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 21:42:08.360 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 21:42:08.512 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 21:42:08.518 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 317.0365ms
2022-10-26 21:42:08.589 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 21:42:08.593 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 21:42:08.713 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 119.9670ms
2022-10-26 21:42:08.757 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 167.9287ms
2022-10-26 21:42:08.941 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 21:42:09.206 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 265.5539ms
2022-10-26 21:42:17.022 +01:00 [DBG] Connection id "0HMLNIA678ULI" accepted.
2022-10-26 21:42:17.024 +01:00 [DBG] Connection id "0HMLNIA678ULI" started.
2022-10-26 21:42:17.036 +01:00 [DBG] Connection 0HMLNIA678ULI established using the following protocol: "Tls13"
2022-10-26 21:42:17.060 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/login application/json;+charset=utf-8 -
2022-10-26 21:42:17.063 +01:00 [DBG] POST requests are not supported
2022-10-26 21:42:17.086 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2022-10-26 21:42:17.091 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Login' is valid for the request path '/api/users/login'
2022-10-26 21:42:17.094 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 21:42:17.174 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 21:42:17.179 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 21:42:17.181 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 21:42:17.208 +01:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] Login(SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 21:42:17.212 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 21:42:17.214 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 21:42:17.216 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 21:42:17.219 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 21:42:17.221 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 21:42:17.223 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:17.426 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-26 21:42:17.453 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:17.467 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 21:42:17.472 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' using the name '' in request data ...
2022-10-26 21:42:17.474 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 21:42:17.480 +01:00 [DBG] Connection id "0HMLNIA678ULI", Request id "0HMLNIA678ULI:00000002": started reading request body.
2022-10-26 21:42:17.485 +01:00 [DBG] Connection id "0HMLNIA678ULI", Request id "0HMLNIA678ULI:00000002": done reading request body.
2022-10-26 21:42:17.491 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'
2022-10-26 21:42:17.494 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 21:42:17.495 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 21:42:17.497 +01:00 [DBG] Attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 21:42:17.505 +01:00 [DBG] Done attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 21:42:18.532 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 21:42:18.589 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2022-10-26 21:42:18.943 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
        SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
        FROM SB-operational.Users AS u
        WHERE u.username == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 21:42:18.992 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 21:42:19.076 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (81ms).
2022-10-26 21:42:19.088 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:19.340 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:19.356 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-26 21:42:19.451 +01:00 [INF] Executed DbCommand (99ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-26 21:42:19.503 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:19.558 +01:00 [DBG] A data reader was disposed.
2022-10-26 21:42:19.563 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:19.572 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:19.578 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __userId_0)'
2022-10-26 21:42:19.582 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.user_id == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 21:42:19.586 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 21:42:19.588 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 21:42:19.589 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:19.590 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:19.591 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-26 21:42:19.602 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-26 21:42:19.608 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:19.618 +01:00 [DBG] A data reader was disposed.
2022-10-26 21:42:19.619 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:19.621 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:19.624 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 21:42:19.628 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 21:42:19.629 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 21:42:19.630 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 21:42:19.633 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-10-26 21:42:19.634 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-10-26 21:42:19.641 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API) in 2414.8758ms
2022-10-26 21:42:19.644 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 21:42:19.645 +01:00 [DBG] Connection id "0HMLNIA678ULI" completed keep alive response.
2022-10-26 21:42:19.649 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 21:42:19.654 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/login application/json;+charset=utf-8 - - 400 - text/plain;+charset=utf-8 2594.1436ms
2022-10-26 21:42:19.657 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/GetTokenAgain application/json;+charset=utf-8 -
2022-10-26 21:42:19.658 +01:00 [DBG] POST requests are not supported
2022-10-26 21:42:19.660 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/GetTokenAgain'
2022-10-26 21:42:19.661 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserToken (SimpleBank.AcctManage.API)' with route pattern 'api/Users/GetTokenAgain' is valid for the request path '/api/users/GetTokenAgain'
2022-10-26 21:42:19.663 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-26 21:42:19.665 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 21:42:19.666 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 21:42:19.667 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-26 21:42:19.671 +01:00 [INF] Route matched with {action = "GetUserToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] GetUserToken(SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 21:42:19.673 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 21:42:19.674 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 21:42:19.676 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 21:42:19.678 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 21:42:19.680 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 21:42:19.681 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:19.683 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:19.684 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 21:42:19.686 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' using the name '' in request data ...
2022-10-26 21:42:19.687 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 21:42:19.689 +01:00 [DBG] Connection id "0HMLNIA678ULI", Request id "0HMLNIA678ULI:00000003": started reading request body.
2022-10-26 21:42:19.690 +01:00 [DBG] Connection id "0HMLNIA678ULI", Request id "0HMLNIA678ULI:00000003": done reading request body.
2022-10-26 21:42:19.691 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'
2022-10-26 21:42:19.692 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 21:42:19.694 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 21:42:19.695 +01:00 [DBG] Attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 21:42:19.697 +01:00 [DBG] Done attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 21:42:19.733 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 21:42:19.739 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 21:42:19.740 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 21:42:19.741 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:19.742 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:19.743 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-26 21:42:19.747 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-26 21:42:19.749 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:19.750 +01:00 [DBG] A data reader was disposed.
2022-10-26 21:42:19.751 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:19.752 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:19.758 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(t => t.UserId == __id_0)'
2022-10-26 21:42:19.763 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
            SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
            FROM SB-auth.UserTokens AS u
            WHERE u.user_id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-26 21:42:19.785 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 21:42:19.787 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 21:42:19.795 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:19.798 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:19.800 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__id_0
LIMIT 1
2022-10-26 21:42:19.813 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__id_0
LIMIT 1
2022-10-26 21:42:19.821 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:19.828 +01:00 [DBG] A data reader was disposed.
2022-10-26 21:42:19.838 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:19.841 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:19.861 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 21:42:19.866 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 21:42:19.866 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 21:42:19.867 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 21:42:19.868 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 21:42:19.870 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse'.
2022-10-26 21:42:19.878 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserToken (SimpleBank.AcctManage.API) in 196.3261ms
2022-10-26 21:42:19.881 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-26 21:42:19.883 +01:00 [DBG] Connection id "0HMLNIA678ULI" completed keep alive response.
2022-10-26 21:42:19.884 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 21:42:19.886 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/GetTokenAgain application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 228.9767ms
2022-10-26 21:42:19.907 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 -
2022-10-26 21:42:19.908 +01:00 [DBG] POST requests are not supported
2022-10-26 21:42:19.909 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/renew'
2022-10-26 21:42:19.910 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Renew' is valid for the request path '/api/users/renew'
2022-10-26 21:42:19.911 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 21:42:19.913 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 21:42:19.914 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 21:42:19.915 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 21:42:19.919 +01:00 [INF] Route matched with {action = "RenewToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] RenewToken(SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 21:42:19.921 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 21:42:19.922 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 21:42:19.925 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 21:42:19.928 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 21:42:19.929 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 21:42:19.930 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:19.937 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:19.939 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 21:42:19.941 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' using the name '' in request data ...
2022-10-26 21:42:19.942 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 21:42:19.944 +01:00 [DBG] Connection id "0HMLNIA678ULI", Request id "0HMLNIA678ULI:00000004": started reading request body.
2022-10-26 21:42:19.946 +01:00 [DBG] Connection id "0HMLNIA678ULI", Request id "0HMLNIA678ULI:00000004": done reading request body.
2022-10-26 21:42:19.948 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'
2022-10-26 21:42:19.949 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 21:42:19.950 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 21:42:19.952 +01:00 [DBG] Attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 21:42:19.954 +01:00 [DBG] Done attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 21:42:19.963 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 21:42:19.967 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)'
2022-10-26 21:42:19.970 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.refresh_token == @__refreshToken_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 21:42:19.972 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 21:42:19.973 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 21:42:19.975 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:19.976 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:19.977 +01:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 21:42:19.980 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 21:42:19.982 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:19.984 +01:00 [DBG] A data reader was disposed.
2022-10-26 21:42:19.984 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:19.986 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:20.156 +01:00 [DBG] 'SimpleBankDbContext' generated a temporary value for the property 'Id.UserToken'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:20.168 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:20.177 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-26 21:42:20.181 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-26 21:42:20.196 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-26 21:42:20.219 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:20.221 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:20.224 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-26 21:42:20.234 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-26 21:42:20.289 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 21:42:20.291 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 21:42:20.294 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 21:42:20.320 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 21:42:20.341 +01:00 [DBG] The foreign key property 'UserToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-26 21:42:20.349 +01:00 [DBG] A data reader was disposed.
2022-10-26 21:42:20.357 +01:00 [DBG] Committing transaction.
2022-10-26 21:42:20.370 +01:00 [DBG] Committed transaction.
2022-10-26 21:42:20.377 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:20.379 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:20.384 +01:00 [DBG] Disposing transaction.
2022-10-26 21:42:20.398 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:20.404 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-26 21:42:20.407 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 21:42:20.409 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 21:42:20.410 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 21:42:20.411 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 21:42:20.411 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 21:42:20.413 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse'.
2022-10-26 21:42:20.414 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API) in 483.8477ms
2022-10-26 21:42:20.416 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 21:42:20.418 +01:00 [DBG] Connection id "0HMLNIA678ULI" completed keep alive response.
2022-10-26 21:42:20.419 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 21:42:20.420 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 513.4567ms
2022-10-26 21:42:20.458 +01:00 [DBG] Connection id "0HMLNIA678ULJ" accepted.
2022-10-26 21:42:20.459 +01:00 [DBG] Connection id "0HMLNIA678ULJ" started.
2022-10-26 21:42:20.464 +01:00 [DBG] Connection 0HMLNIA678ULJ established using the following protocol: "Tls13"
2022-10-26 21:42:20.469 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 21:42:20.471 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 21:42:20.473 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 21:42:20.476 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 21:42:20.477 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:20.545 +01:00 [DBG] Successfully validated the token.
2022-10-26 21:42:20.548 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 21:42:20.549 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 21:42:20.553 +01:00 [DBG] Authorization was successful.
2022-10-26 21:42:20.556 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:20.559 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 21:42:20.561 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 21:42:20.562 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 21:42:20.563 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 21:42:20.566 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 21:42:20.567 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 21:42:20.568 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:20.570 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:20.574 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 21:42:20.584 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: (object)__get_Item_0))'
2022-10-26 21:42:20.651 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
            SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
            FROM SB-operational.Users AS u
            WHERE u.user_id == @__get_Item_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-26 21:42:20.655 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 21:42:20.656 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 21:42:20.658 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:20.659 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:20.661 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 21:42:20.666 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 21:42:20.670 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:20.671 +01:00 [DBG] A data reader was disposed.
2022-10-26 21:42:20.672 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:20.673 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:20.676 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 21:42:20.678 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 21:42:20.679 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 21:42:20.680 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 21:42:20.681 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 21:42:20.682 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 21:42:20.684 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 115.9379ms
2022-10-26 21:42:20.686 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:20.689 +01:00 [DBG] Connection id "0HMLNIA678ULJ" completed keep alive response.
2022-10-26 21:42:20.690 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 21:42:20.691 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 221.8827ms
2022-10-26 21:42:26.082 +01:00 [DBG] Connection id "0HMLNIA678ULK" accepted.
2022-10-26 21:42:26.083 +01:00 [DBG] Connection id "0HMLNIA678ULK" started.
2022-10-26 21:42:26.086 +01:00 [DBG] Connection 0HMLNIA678ULK established using the following protocol: "Tls13"
2022-10-26 21:42:26.088 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 21:42:26.089 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 21:42:26.090 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 21:42:26.091 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 21:42:26.092 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:26.094 +01:00 [DBG] Successfully validated the token.
2022-10-26 21:42:26.095 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 21:42:26.096 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 21:42:26.097 +01:00 [DBG] Authorization was successful.
2022-10-26 21:42:26.098 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:26.099 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 21:42:26.102 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 21:42:26.104 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 21:42:26.105 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 21:42:26.107 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 21:42:26.109 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 21:42:26.110 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:26.112 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:26.113 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 21:42:26.116 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 21:42:26.117 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 21:42:26.118 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:26.120 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:26.121 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 21:42:26.125 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 21:42:26.127 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:26.129 +01:00 [DBG] A data reader was disposed.
2022-10-26 21:42:26.129 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:26.131 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:26.132 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 21:42:26.134 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 21:42:26.135 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 21:42:26.136 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 21:42:26.138 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 21:42:26.139 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 21:42:26.140 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 30.1427ms
2022-10-26 21:42:26.142 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:26.143 +01:00 [DBG] Connection id "0HMLNIA678ULK" completed keep alive response.
2022-10-26 21:42:26.144 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 21:42:26.145 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 56.9530ms
2022-10-26 21:42:28.116 +01:00 [DBG] Connection id "0HMLNIA678ULL" accepted.
2022-10-26 21:42:28.117 +01:00 [DBG] Connection id "0HMLNIA678ULL" started.
2022-10-26 21:42:28.120 +01:00 [DBG] Connection 0HMLNIA678ULL established using the following protocol: "Tls13"
2022-10-26 21:42:28.124 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 21:42:28.125 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 21:42:28.126 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 21:42:28.127 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 21:42:28.129 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:28.130 +01:00 [DBG] Successfully validated the token.
2022-10-26 21:42:28.131 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 21:42:28.132 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 21:42:28.133 +01:00 [DBG] Authorization was successful.
2022-10-26 21:42:28.134 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:28.135 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 21:42:28.138 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 21:42:28.139 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 21:42:28.141 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 21:42:28.143 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 21:42:28.144 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 21:42:28.146 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:28.147 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:28.149 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 21:42:28.152 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 21:42:28.153 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 21:42:28.154 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:28.155 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:28.156 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 21:42:28.160 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 21:42:28.163 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:28.165 +01:00 [DBG] A data reader was disposed.
2022-10-26 21:42:28.165 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:28.167 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:28.168 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 21:42:28.170 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 21:42:28.171 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 21:42:28.172 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 21:42:28.173 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 21:42:28.174 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 21:42:28.176 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 29.9598ms
2022-10-26 21:42:28.177 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:28.178 +01:00 [DBG] Connection id "0HMLNIA678ULL" completed keep alive response.
2022-10-26 21:42:28.180 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 21:42:28.181 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 56.7866ms
2022-10-26 21:42:29.209 +01:00 [DBG] Connection id "0HMLNIA678ULM" accepted.
2022-10-26 21:42:29.211 +01:00 [DBG] Connection id "0HMLNIA678ULM" started.
2022-10-26 21:42:29.215 +01:00 [DBG] Connection 0HMLNIA678ULM established using the following protocol: "Tls13"
2022-10-26 21:42:29.216 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 21:42:29.217 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 21:42:29.218 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 21:42:29.219 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 21:42:29.220 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:29.223 +01:00 [DBG] Successfully validated the token.
2022-10-26 21:42:29.224 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 21:42:29.226 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 21:42:29.227 +01:00 [DBG] Authorization was successful.
2022-10-26 21:42:29.228 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:29.229 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 21:42:29.231 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 21:42:29.232 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 21:42:29.234 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 21:42:29.236 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 21:42:29.237 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 21:42:29.239 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:29.241 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:29.242 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 21:42:29.244 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 21:42:29.245 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 21:42:29.247 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:29.248 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:29.249 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 21:42:29.253 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 21:42:29.256 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:29.257 +01:00 [DBG] A data reader was disposed.
2022-10-26 21:42:29.258 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:29.259 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:29.260 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 21:42:29.263 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 21:42:29.263 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 21:42:29.264 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 21:42:29.265 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 21:42:29.267 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 21:42:29.268 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 29.3776ms
2022-10-26 21:42:29.270 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:29.271 +01:00 [DBG] Connection id "0HMLNIA678ULM" completed keep alive response.
2022-10-26 21:42:29.272 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 21:42:29.273 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 57.4450ms
2022-10-26 21:42:30.621 +01:00 [DBG] Connection id "0HMLNIA678ULN" accepted.
2022-10-26 21:42:30.622 +01:00 [DBG] Connection id "0HMLNIA678ULN" started.
2022-10-26 21:42:30.625 +01:00 [DBG] Connection 0HMLNIA678ULN established using the following protocol: "Tls13"
2022-10-26 21:42:30.627 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 21:42:30.628 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 21:42:30.629 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 21:42:30.630 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 21:42:30.632 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:30.634 +01:00 [DBG] Successfully validated the token.
2022-10-26 21:42:30.635 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 21:42:30.636 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 21:42:30.637 +01:00 [DBG] Authorization was successful.
2022-10-26 21:42:30.638 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:30.639 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 21:42:30.643 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 21:42:30.645 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 21:42:30.646 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 21:42:30.649 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 21:42:30.650 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 21:42:30.652 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:30.653 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 21:42:30.655 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 21:42:30.659 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 21:42:30.660 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 21:42:30.661 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:30.662 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:30.664 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 21:42:30.667 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 21:42:30.670 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 21:42:30.671 +01:00 [DBG] A data reader was disposed.
2022-10-26 21:42:30.672 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 21:42:30.675 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 21:42:30.676 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 21:42:30.679 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 21:42:30.679 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 21:42:30.680 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 21:42:30.681 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 21:42:30.682 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 21:42:30.684 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 32.4363ms
2022-10-26 21:42:30.686 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 21:42:30.687 +01:00 [DBG] Connection id "0HMLNIA678ULN" completed keep alive response.
2022-10-26 21:42:30.688 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 21:42:30.689 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 62.2497ms
2022-10-26 21:42:32.066 +01:00 [DBG] Connection id "0HMLNIA678ULM" received FIN.
2022-10-26 21:42:32.066 +01:00 [DBG] Connection id "0HMLNIA678ULN" received FIN.
2022-10-26 21:42:32.066 +01:00 [DBG] Connection id "0HMLNIA678ULL" received FIN.
2022-10-26 21:42:32.066 +01:00 [DBG] Connection id "0HMLNIA678ULK" received FIN.
2022-10-26 21:42:32.066 +01:00 [DBG] Connection id "0HMLNIA678ULI" received FIN.
2022-10-26 21:42:32.067 +01:00 [DBG] Connection id "0HMLNIA678ULJ" received FIN.
2022-10-26 21:42:32.068 +01:00 [DBG] Connection id "0HMLNIA678ULM" disconnecting.
2022-10-26 21:42:32.072 +01:00 [DBG] Connection id "0HMLNIA678ULN" disconnecting.
2022-10-26 21:42:32.074 +01:00 [DBG] Connection id "0HMLNIA678ULL" disconnecting.
2022-10-26 21:42:32.076 +01:00 [DBG] Connection id "0HMLNIA678ULM" sending FIN because: "The client closed the connection."
2022-10-26 21:42:32.077 +01:00 [DBG] Connection id "0HMLNIA678ULN" sending FIN because: "The client closed the connection."
2022-10-26 21:42:32.078 +01:00 [DBG] Connection id "0HMLNIA678ULL" sending FIN because: "The client closed the connection."
2022-10-26 21:42:32.080 +01:00 [DBG] Connection id "0HMLNIA678ULK" disconnecting.
2022-10-26 21:42:32.082 +01:00 [DBG] Connection id "0HMLNIA678ULI" disconnecting.
2022-10-26 21:42:32.083 +01:00 [DBG] Connection id "0HMLNIA678ULK" sending FIN because: "The client closed the connection."
2022-10-26 21:42:32.084 +01:00 [DBG] Connection id "0HMLNIA678ULI" stopped.
2022-10-26 21:42:32.085 +01:00 [DBG] Connection id "0HMLNIA678ULJ" disconnecting.
2022-10-26 21:42:32.086 +01:00 [DBG] Connection id "0HMLNIA678ULN" stopped.
2022-10-26 21:42:32.086 +01:00 [DBG] Connection id "0HMLNIA678ULL" stopped.
2022-10-26 21:42:32.087 +01:00 [DBG] Connection id "0HMLNIA678ULJ" sending FIN because: "The client closed the connection."
2022-10-26 21:42:32.086 +01:00 [DBG] Connection id "0HMLNIA678ULM" stopped.
2022-10-26 21:42:32.086 +01:00 [DBG] Connection id "0HMLNIA678ULK" stopped.
2022-10-26 21:42:32.088 +01:00 [DBG] Connection id "0HMLNIA678ULI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 21:42:32.093 +01:00 [DBG] Connection id "0HMLNIA678ULJ" stopped.
2022-10-26 21:42:36.333 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 21:42:36.470 +01:00 [DBG] Hosting starting
2022-10-26 21:42:36.518 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 21:42:36.523 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 21:42:36.531 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 21:42:36.534 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 21:42:36.543 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 21:42:36.554 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 21:42:36.556 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 21:42:36.568 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 21:42:36.572 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 21:42:36.576 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 21:42:36.578 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 21:42:36.584 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 21:42:36.587 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 21:42:36.592 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 21:42:36.593 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 21:42:36.718 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 21:42:36.763 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 21:42:36.765 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 21:42:36.767 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 21:42:36.768 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 21:42:36.770 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 21:42:36.771 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 21:42:36.772 +01:00 [INF] Hosting environment: Development
2022-10-26 21:42:36.773 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 21:42:36.774 +01:00 [DBG] Hosting started
2022-10-26 21:42:36.859 +01:00 [DBG] Connection id "0HMLNIAEUCE7S" accepted.
2022-10-26 21:42:36.862 +01:00 [DBG] Connection id "0HMLNIAEUCE7S" started.
2022-10-26 21:42:36.865 +01:00 [DBG] Connection id "0HMLNIAEUCE7T" accepted.
2022-10-26 21:42:36.867 +01:00 [DBG] Connection id "0HMLNIAEUCE7T" started.
2022-10-26 21:42:36.908 +01:00 [DBG] Connection id "0HMLNIAEUCE7S" received FIN.
2022-10-26 21:42:36.908 +01:00 [DBG] Connection id "0HMLNIAEUCE7T" received FIN.
2022-10-26 21:42:36.922 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 21:42:36.922 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 21:42:36.980 +01:00 [DBG] Connection id "0HMLNIAEUCE7S" stopped.
2022-10-26 21:42:36.980 +01:00 [DBG] Connection id "0HMLNIAEUCE7T" stopped.
2022-10-26 21:42:36.988 +01:00 [DBG] Connection id "0HMLNIAEUCE7T" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 21:42:36.988 +01:00 [DBG] Connection id "0HMLNIAEUCE7S" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 21:42:37.222 +01:00 [DBG] Connection id "0HMLNIAEUCE7U" accepted.
2022-10-26 21:42:37.225 +01:00 [DBG] Connection id "0HMLNIAEUCE7U" started.
2022-10-26 21:42:37.259 +01:00 [DBG] Connection 0HMLNIAEUCE7U established using the following protocol: "Tls13"
2022-10-26 21:42:37.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 21:42:37.340 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 21:42:37.473 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 21:42:37.590 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 21:42:37.598 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 296.7569ms
2022-10-26 21:42:37.672 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 21:42:37.673 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 21:42:37.681 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 8.2396ms
2022-10-26 21:42:37.741 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 68.2419ms
2022-10-26 21:42:37.890 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 21:42:38.075 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.8939ms
2022-10-26 23:34:28.865 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:34:29.072 +01:00 [DBG] Hosting starting
2022-10-26 23:34:29.231 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:34:29.235 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:34:29.242 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:34:29.243 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:34:29.249 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:34:29.255 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:34:29.257 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:34:29.266 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:34:29.269 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:34:29.273 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:34:29.275 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:34:29.280 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:34:29.283 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:34:29.286 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:34:29.288 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:34:29.436 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:34:30.284 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:34:30.284 +01:00 [DBG] Connection id "0HMLNK8VMJT1C" received FIN.
2022-10-26 23:34:30.284 +01:00 [DBG] Connection id "0HMLNK8VMJT1D" received FIN.
2022-10-26 23:34:30.311 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:34:30.317 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:34:30.318 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:34:30.319 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:34:30.321 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:34:30.323 +01:00 [DBG] Connection id "0HMLNK8VMJT1C" accepted.
2022-10-26 23:34:30.323 +01:00 [DBG] Connection id "0HMLNK8VMJT1D" accepted.
2022-10-26 23:34:30.324 +01:00 [INF] Hosting environment: Development
2022-10-26 23:34:30.327 +01:00 [DBG] Connection id "0HMLNK8VMJT1C" started.
2022-10-26 23:34:30.327 +01:00 [DBG] Connection id "0HMLNK8VMJT1D" started.
2022-10-26 23:34:30.328 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:34:30.332 +01:00 [DBG] Hosting started
2022-10-26 23:34:30.346 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:34:30.346 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:34:30.443 +01:00 [DBG] Connection id "0HMLNK8VMJT1D" stopped.
2022-10-26 23:34:30.446 +01:00 [DBG] Connection id "0HMLNK8VMJT1C" stopped.
2022-10-26 23:34:30.458 +01:00 [DBG] Connection id "0HMLNK8VMJT1D" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:34:30.460 +01:00 [DBG] Connection id "0HMLNK8VMJT1C" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:34:30.630 +01:00 [DBG] Connection id "0HMLNK8VMJT1E" accepted.
2022-10-26 23:34:30.636 +01:00 [DBG] Connection id "0HMLNK8VMJT1E" started.
2022-10-26 23:34:30.764 +01:00 [DBG] Connection 0HMLNK8VMJT1E established using the following protocol: "Tls13"
2022-10-26 23:34:30.831 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:34:30.883 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:34:31.083 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:34:31.226 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:34:31.234 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 406.9735ms
2022-10-26 23:34:31.271 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:34:31.272 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:34:31.279 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 7.4662ms
2022-10-26 23:34:31.370 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 98.7815ms
2022-10-26 23:34:31.547 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:34:31.715 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 167.7025ms
2022-10-26 23:34:34.340 +01:00 [DBG] Connection id "0HMLNK8VMJT1F" accepted.
2022-10-26 23:34:34.343 +01:00 [DBG] Connection id "0HMLNK8VMJT1F" started.
2022-10-26 23:34:34.352 +01:00 [DBG] Connection 0HMLNK8VMJT1F established using the following protocol: "Tls13"
2022-10-26 23:34:34.377 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 -
2022-10-26 23:34:34.380 +01:00 [DBG] POST requests are not supported
2022-10-26 23:34:34.404 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/renew'
2022-10-26 23:34:34.408 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Renew' is valid for the request path '/api/users/renew'
2022-10-26 23:34:34.411 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:34:34.492 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:34:34.498 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:34:34.500 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:34:34.529 +01:00 [INF] Route matched with {action = "RenewToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] RenewToken(SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:34:34.532 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:34:34.534 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:34:34.535 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:34:34.537 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:34:34.539 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:34:34.541 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:34.947 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-26 23:34:34.977 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:34.994 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:34:34.998 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' using the name '' in request data ...
2022-10-26 23:34:35.000 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:34:35.006 +01:00 [DBG] Connection id "0HMLNK8VMJT1F", Request id "0HMLNK8VMJT1F:00000002": started reading request body.
2022-10-26 23:34:35.010 +01:00 [DBG] Connection id "0HMLNK8VMJT1F", Request id "0HMLNK8VMJT1F:00000002": done reading request body.
2022-10-26 23:34:35.015 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'
2022-10-26 23:34:35.017 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:34:35.018 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:34:35.019 +01:00 [DBG] Attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:34:35.027 +01:00 [DBG] Done attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:34:36.014 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:34:36.070 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)'
2022-10-26 23:34:36.418 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.refresh_token == @__refreshToken_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:34:36.464 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:34:36.536 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (69ms).
2022-10-26 23:34:36.546 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:36.798 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:36.816 +01:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:34:36.909 +01:00 [INF] Executed DbCommand (100ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:34:36.952 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:37.003 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:34:37.009 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:37.024 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:37.191 +01:00 [DBG] 'SimpleBankDbContext' generated a temporary value for the property 'Id.UserToken'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:37.208 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:37.222 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:34:37.225 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:34:37.242 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-26 23:34:37.275 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:37.279 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:37.283 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-26 23:34:37.295 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-26 23:34:37.351 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:34:37.353 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:34:37.356 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:34:37.393 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:34:37.416 +01:00 [DBG] The foreign key property 'UserToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-26 23:34:37.430 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:34:37.443 +01:00 [DBG] Committing transaction.
2022-10-26 23:34:37.457 +01:00 [DBG] Committed transaction.
2022-10-26 23:34:37.464 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:37.468 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:37.473 +01:00 [DBG] Disposing transaction.
2022-10-26 23:34:37.487 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:37.493 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-26 23:34:37.505 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:34:37.509 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:34:37.510 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:34:37.511 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:34:37.512 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:34:37.514 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse'.
2022-10-26 23:34:37.527 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API) in 2982.29ms
2022-10-26 23:34:37.530 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:34:37.534 +01:00 [DBG] Connection id "0HMLNK8VMJT1F" completed keep alive response.
2022-10-26 23:34:37.538 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:34:37.542 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 3165.1615ms
2022-10-26 23:34:37.566 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:34:37.568 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:34:37.570 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:34:37.572 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:34:37.573 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:37.577 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:34:37.579 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:34:37.584 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-10-26 23:34:37.594 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-10-26 23:34:37.596 +01:00 [DBG] Connection id "0HMLNK8VMJT1F" completed keep alive response.
2022-10-26 23:34:37.598 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 401 0 - 32.2200ms
2022-10-26 23:34:41.643 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:34:41.644 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:34:41.645 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:34:41.646 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:34:41.648 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:41.720 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:34:41.723 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:41.725 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:41.727 +01:00 [DBG] Authorization was successful.
2022-10-26 23:34:41.728 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:41.732 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:34:41.734 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:34:41.735 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:34:41.736 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:34:41.739 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:34:41.740 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:34:41.742 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:41.743 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:41.781 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:34:41.795 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: (object)__get_Item_0))'
2022-10-26 23:34:41.868 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
            SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
            FROM SB-operational.Users AS u
            WHERE u.user_id == @__get_Item_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-26 23:34:41.890 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:34:41.892 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:34:41.893 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:41.895 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:41.896 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:34:41.902 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:34:41.918 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:41.937 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:34:41.939 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:41.941 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:41.943 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:34:41.945 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:34:41.946 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:34:41.947 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:34:41.948 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:34:41.949 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:34:41.952 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 210.7443ms
2022-10-26 23:34:41.954 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:41.956 +01:00 [DBG] Connection id "0HMLNK8VMJT1F" completed keep alive response.
2022-10-26 23:34:41.957 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:34:41.959 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 315.4663ms
2022-10-26 23:34:47.239 +01:00 [DBG] Connection id "0HMLNK8VMJT1G" accepted.
2022-10-26 23:34:47.240 +01:00 [DBG] Connection id "0HMLNK8VMJT1G" started.
2022-10-26 23:34:47.243 +01:00 [DBG] Connection 0HMLNK8VMJT1G established using the following protocol: "Tls13"
2022-10-26 23:34:47.244 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:34:47.246 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:34:47.247 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:34:47.248 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:34:47.249 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:47.251 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:34:47.252 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:47.253 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:47.254 +01:00 [DBG] Authorization was successful.
2022-10-26 23:34:47.255 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:47.256 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:34:47.258 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:34:47.259 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:34:47.262 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:34:47.264 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:34:47.265 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:34:47.267 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:47.273 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:47.283 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:34:47.290 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:34:47.292 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-26 23:34:47.294 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:47.295 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:47.297 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:34:47.302 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:34:47.304 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:47.306 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:34:47.306 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:47.307 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:47.309 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:34:47.312 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:34:47.312 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:34:47.313 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:34:47.314 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:34:47.316 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:34:47.317 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 50.1649ms
2022-10-26 23:34:47.319 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:47.320 +01:00 [DBG] Connection id "0HMLNK8VMJT1G" completed keep alive response.
2022-10-26 23:34:47.321 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:34:47.322 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 77.6471ms
2022-10-26 23:34:49.123 +01:00 [DBG] Connection id "0HMLNK8VMJT1H" accepted.
2022-10-26 23:34:49.124 +01:00 [DBG] Connection id "0HMLNK8VMJT1H" started.
2022-10-26 23:34:49.127 +01:00 [DBG] Connection 0HMLNK8VMJT1H established using the following protocol: "Tls13"
2022-10-26 23:34:49.128 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:34:49.129 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:34:49.132 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:34:49.134 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:34:49.136 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:49.137 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:34:49.138 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:49.139 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:49.140 +01:00 [DBG] Authorization was successful.
2022-10-26 23:34:49.141 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:49.142 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:34:49.145 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:34:49.147 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:34:49.149 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:34:49.151 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:34:49.152 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:34:49.154 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:49.155 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:49.156 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:34:49.159 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:34:49.160 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 23:34:49.161 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:49.164 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:49.166 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:34:49.169 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:34:49.172 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:49.174 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:34:49.174 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:49.176 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:49.177 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:34:49.179 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:34:49.180 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:34:49.181 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:34:49.182 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:34:49.183 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:34:49.185 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 31.1498ms
2022-10-26 23:34:49.186 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:49.188 +01:00 [DBG] Connection id "0HMLNK8VMJT1H" completed keep alive response.
2022-10-26 23:34:49.189 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:34:49.191 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 62.7159ms
2022-10-26 23:34:50.223 +01:00 [DBG] Connection id "0HMLNK8VMJT1I" accepted.
2022-10-26 23:34:50.224 +01:00 [DBG] Connection id "0HMLNK8VMJT1I" started.
2022-10-26 23:34:50.227 +01:00 [DBG] Connection 0HMLNK8VMJT1I established using the following protocol: "Tls13"
2022-10-26 23:34:50.228 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/accounts/ - -
2022-10-26 23:34:50.229 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:34:50.230 +01:00 [DBG] 1 candidate(s) found for the request path '/api/accounts/'
2022-10-26 23:34:50.231 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)' with route pattern 'api/Accounts' is valid for the request path '/api/accounts/'
2022-10-26 23:34:50.233 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-26 23:34:50.234 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:34:50.235 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:50.236 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:50.237 +01:00 [DBG] Authorization was successful.
2022-10-26 23:34:50.238 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-26 23:34:50.241 +01:00 [INF] Route matched with {action = "GetAllAccounts", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[SimpleBank.AcctManage.API.DTModels.Responses.AccountResponse]]] GetAllAccounts() on controller SimpleBank.AcctManage.API.Controllers.AccountsController (SimpleBank.AcctManage.API).
2022-10-26 23:34:50.243 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:34:50.245 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:34:50.246 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:34:50.248 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:34:50.250 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:34:50.251 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.AccountsController (SimpleBank.AcctManage.API)
2022-10-26 23:34:50.253 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.AccountsController (SimpleBank.AcctManage.API)
2022-10-26 23:34:50.257 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:34:50.260 +01:00 [DBG] Compiling query expression: 
'DbSet<Account>()
    .Where(account => account.UserId == __userId_0)'
2022-10-26 23:34:50.264 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Account>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Account.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Account.Balance (decimal) Required, 1], [Property: Account.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Account.Currency (string) Required ValueGenerated.OnAdd MaxLength(3), 3], [Property: Account.UserId (Guid) Required FK Index, 4] }
        SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
        FROM SB-operational.Accounts AS a
        WHERE a.user_id == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Account>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)'
2022-10-26 23:34:50.266 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:34:50.267 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 23:34:50.268 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:50.270 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:50.272 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:34:50.277 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:34:50.293 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:50.306 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:50.309 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:50.311 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:50.313 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:50.315 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:50.317 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:34:50.318 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:50.319 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:50.322 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:34:50.323 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:34:50.324 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:50.325 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:50.327 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:34:50.331 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:34:50.333 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:34:50.334 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:50.335 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:50.337 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:34:50.339 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:34:50.340 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:34:50.341 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:34:50.342 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:34:50.343 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SimpleBank.AcctManage.API.DTModels.Responses.AccountResponse, SimpleBank.AcctManage.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-26 23:34:50.352 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API) in 100.5337ms
2022-10-26 23:34:50.354 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-26 23:34:50.355 +01:00 [DBG] Connection id "0HMLNK8VMJT1I" completed keep alive response.
2022-10-26 23:34:50.356 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:34:50.357 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/accounts/ - - - 200 - application/json;+charset=utf-8 128.6807ms
2022-10-26 23:34:51.445 +01:00 [DBG] Connection id "0HMLNK8VMJT1J" accepted.
2022-10-26 23:34:51.446 +01:00 [DBG] Connection id "0HMLNK8VMJT1J" started.
2022-10-26 23:34:51.451 +01:00 [DBG] Connection 0HMLNK8VMJT1J established using the following protocol: "Tls13"
2022-10-26 23:34:51.453 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:34:51.454 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:34:51.455 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:34:51.456 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:34:51.458 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:51.459 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:34:51.460 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:51.461 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:51.462 +01:00 [DBG] Authorization was successful.
2022-10-26 23:34:51.463 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:51.464 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:34:51.467 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:34:51.469 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:34:51.470 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:34:51.472 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:34:51.473 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:34:51.475 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:51.476 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:51.478 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:34:51.480 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:34:51.482 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:34:51.483 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:51.485 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:51.486 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:34:51.490 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:34:51.493 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:51.494 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:34:51.495 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:51.497 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:51.498 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:34:51.500 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:34:51.501 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:34:51.502 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:34:51.503 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:34:51.504 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:34:51.506 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 30.8322ms
2022-10-26 23:34:51.507 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:34:51.508 +01:00 [DBG] Connection id "0HMLNK8VMJT1J" completed keep alive response.
2022-10-26 23:34:51.510 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:34:51.511 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 57.6460ms
2022-10-26 23:34:53.403 +01:00 [DBG] Connection id "0HMLNK8VMJT1K" accepted.
2022-10-26 23:34:53.405 +01:00 [DBG] Connection id "0HMLNK8VMJT1K" started.
2022-10-26 23:34:53.408 +01:00 [DBG] Connection 0HMLNK8VMJT1K established using the following protocol: "Tls13"
2022-10-26 23:34:53.410 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/logout application/json;+charset=utf-8 -
2022-10-26 23:34:53.410 +01:00 [DBG] POST requests are not supported
2022-10-26 23:34:53.411 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/logout'
2022-10-26 23:34:53.413 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Logout (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Logout' is valid for the request path '/api/users/logout'
2022-10-26 23:34:53.414 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Logout (SimpleBank.AcctManage.API)'
2022-10-26 23:34:53.416 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:34:53.416 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:53.417 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:34:53.419 +01:00 [DBG] Authorization was successful.
2022-10-26 23:34:53.421 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Logout (SimpleBank.AcctManage.API)'
2022-10-26 23:34:53.425 +01:00 [INF] Route matched with {action = "Logout", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:34:53.427 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:34:53.429 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:34:53.431 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:34:53.434 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:34:53.435 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:34:53.437 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:53.438 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:53.440 +01:00 [DBG] Attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest' ...
2022-10-26 23:34:53.441 +01:00 [DBG] Attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest' using the name '' in request data ...
2022-10-26 23:34:53.443 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:34:53.445 +01:00 [DBG] Connection id "0HMLNK8VMJT1K", Request id "0HMLNK8VMJT1K:00000002": started reading request body.
2022-10-26 23:34:53.446 +01:00 [DBG] Connection id "0HMLNK8VMJT1K", Request id "0HMLNK8VMJT1K:00000002": done reading request body.
2022-10-26 23:34:53.452 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest'
2022-10-26 23:34:53.453 +01:00 [DBG] Done attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest'.
2022-10-26 23:34:53.454 +01:00 [DBG] Done attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest'.
2022-10-26 23:34:53.456 +01:00 [DBG] Attempting to validate the bound parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest' ...
2022-10-26 23:34:53.458 +01:00 [DBG] Done attempting to validate the bound parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest'.
2022-10-26 23:34:53.462 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:34:53.466 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.Id == __userTokenId_0)'
2022-10-26 23:34:53.469 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.user_token_id == @__userTokenId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:34:53.471 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:34:53.472 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 23:34:53.473 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:53.475 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:53.476 +01:00 [DBG] Executing DbCommand [Parameters=[@__userTokenId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_token_id = @__userTokenId_0
LIMIT 1
2022-10-26 23:34:53.481 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userTokenId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_token_id = @__userTokenId_0
LIMIT 1
2022-10-26 23:34:53.484 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:53.485 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:34:53.486 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:53.487 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:53.488 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:53.490 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:34:53.491 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:34:53.492 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-26 23:34:53.494 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:53.495 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:53.497 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-26 23:34:53.498 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-26 23:34:53.503 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:34:53.504 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:34:53.506 +01:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SB-auth"."UserTokens" SET access_token = @p0, access_token_expires_at = @p1, created_at = @p2, refresh_token = @p3, refresh_token_expires_at = @p4, user_id = @p5
WHERE user_token_id = @p6;
2022-10-26 23:34:53.512 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SB-auth"."UserTokens" SET access_token = @p0, access_token_expires_at = @p1, created_at = @p2, refresh_token = @p3, refresh_token_expires_at = @p4, user_id = @p5
WHERE user_token_id = @p6;
2022-10-26 23:34:53.515 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:34:53.517 +01:00 [DBG] Committing transaction.
2022-10-26 23:34:53.519 +01:00 [DBG] Committed transaction.
2022-10-26 23:34:53.520 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:34:53.521 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:34:53.522 +01:00 [DBG] Disposing transaction.
2022-10-26 23:34:53.523 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:34:53.525 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-26 23:34:53.529 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:34:53.532 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:34:53.532 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:34:53.534 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:34:53.535 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-10-26 23:34:53.536 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-10-26 23:34:53.537 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.Logout (SimpleBank.AcctManage.API) in 100.6258ms
2022-10-26 23:34:53.539 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Logout (SimpleBank.AcctManage.API)'
2022-10-26 23:34:53.540 +01:00 [DBG] Connection id "0HMLNK8VMJT1K" completed keep alive response.
2022-10-26 23:34:53.541 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:34:53.543 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/logout application/json;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 133.1382ms
2022-10-26 23:34:59.718 +01:00 [DBG] Connection id "0HMLNK8VMJT1L" accepted.
2022-10-26 23:34:59.719 +01:00 [DBG] Connection id "0HMLNK8VMJT1L" started.
2022-10-26 23:34:59.724 +01:00 [DBG] Connection 0HMLNK8VMJT1L established using the following protocol: "Tls13"
2022-10-26 23:34:59.727 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/login application/json;+charset=utf-8 -
2022-10-26 23:34:59.728 +01:00 [DBG] POST requests are not supported
2022-10-26 23:34:59.729 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2022-10-26 23:34:59.730 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Login' is valid for the request path '/api/users/login'
2022-10-26 23:34:59.732 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 23:34:59.733 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:34:59.734 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:34:59.735 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 23:34:59.738 +01:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] Login(SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:34:59.741 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:34:59.743 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:34:59.744 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:34:59.746 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:34:59.748 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:34:59.749 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:59.751 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:59.752 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 23:34:59.753 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' using the name '' in request data ...
2022-10-26 23:34:59.755 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:34:59.758 +01:00 [DBG] Connection id "0HMLNK8VMJT1L", Request id "0HMLNK8VMJT1L:00000002": started reading request body.
2022-10-26 23:34:59.759 +01:00 [DBG] Connection id "0HMLNK8VMJT1L", Request id "0HMLNK8VMJT1L:00000002": done reading request body.
2022-10-26 23:34:59.761 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'
2022-10-26 23:34:59.762 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:34:59.764 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:34:59.765 +01:00 [DBG] Attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 23:34:59.768 +01:00 [DBG] Done attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:34:59.770 +01:00 [DBG] The request has model state errors, returning an error response.
2022-10-26 23:34:59.772 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-10-26 23:34:59.774 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:34:59.777 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:34:59.778 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2022-10-26 23:34:59.780 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-10-26 23:34:59.781 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-10-26 23:34:59.785 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API) in 35.5958ms
2022-10-26 23:34:59.786 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 23:34:59.787 +01:00 [DBG] Connection id "0HMLNK8VMJT1L" completed keep alive response.
2022-10-26 23:34:59.789 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/login application/json;+charset=utf-8 - - 400 - application/problem+json;+charset=utf-8 61.6875ms
2022-10-26 23:34:59.792 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/GetTokenAgain application/json;+charset=utf-8 -
2022-10-26 23:34:59.793 +01:00 [DBG] POST requests are not supported
2022-10-26 23:34:59.794 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/GetTokenAgain'
2022-10-26 23:34:59.795 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserToken (SimpleBank.AcctManage.API)' with route pattern 'api/Users/GetTokenAgain' is valid for the request path '/api/users/GetTokenAgain'
2022-10-26 23:34:59.797 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-26 23:34:59.798 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:34:59.799 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:34:59.801 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-26 23:34:59.804 +01:00 [INF] Route matched with {action = "GetUserToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] GetUserToken(SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:34:59.806 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:34:59.809 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:34:59.810 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:34:59.812 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:34:59.814 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:34:59.815 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:59.817 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:34:59.818 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 23:34:59.819 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' using the name '' in request data ...
2022-10-26 23:34:59.821 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:34:59.823 +01:00 [DBG] Connection id "0HMLNK8VMJT1L", Request id "0HMLNK8VMJT1L:00000003": started reading request body.
2022-10-26 23:34:59.825 +01:00 [DBG] Connection id "0HMLNK8VMJT1L", Request id "0HMLNK8VMJT1L:00000003": done reading request body.
2022-10-26 23:34:59.826 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'
2022-10-26 23:34:59.828 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:34:59.829 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:34:59.830 +01:00 [DBG] Attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 23:34:59.832 +01:00 [DBG] Done attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:34:59.834 +01:00 [DBG] The request has model state errors, returning an error response.
2022-10-26 23:34:59.834 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-10-26 23:34:59.836 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:34:59.838 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:34:59.839 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2022-10-26 23:34:59.842 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-10-26 23:34:59.844 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-10-26 23:34:59.845 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserToken (SimpleBank.AcctManage.API) in 29.7152ms
2022-10-26 23:34:59.847 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserToken (SimpleBank.AcctManage.API)'
2022-10-26 23:34:59.848 +01:00 [DBG] Connection id "0HMLNK8VMJT1L" completed keep alive response.
2022-10-26 23:34:59.850 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/GetTokenAgain application/json;+charset=utf-8 - - 400 - application/problem+json;+charset=utf-8 57.2345ms
2022-10-26 23:35:10.533 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/login application/json;+charset=utf-8 -
2022-10-26 23:35:10.534 +01:00 [DBG] POST requests are not supported
2022-10-26 23:35:10.536 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2022-10-26 23:35:10.537 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Login' is valid for the request path '/api/users/login'
2022-10-26 23:35:10.538 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 23:35:10.539 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:35:10.540 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:35:10.542 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 23:35:10.543 +01:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] Login(SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:35:10.545 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:35:10.546 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:35:10.547 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:35:10.549 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:35:10.552 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:35:10.554 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:10.555 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:10.557 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 23:35:10.559 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' using the name '' in request data ...
2022-10-26 23:35:10.561 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:35:10.562 +01:00 [DBG] Connection id "0HMLNK8VMJT1L", Request id "0HMLNK8VMJT1L:00000004": started reading request body.
2022-10-26 23:35:10.563 +01:00 [DBG] Connection id "0HMLNK8VMJT1L", Request id "0HMLNK8VMJT1L:00000004": done reading request body.
2022-10-26 23:35:10.565 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'
2022-10-26 23:35:10.566 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:35:10.567 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:35:10.569 +01:00 [DBG] Attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 23:35:10.571 +01:00 [DBG] Done attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:35:10.574 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:35:10.576 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2022-10-26 23:35:10.580 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
        SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
        FROM SB-operational.Users AS u
        WHERE u.username == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:35:10.583 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:35:10.584 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:35:10.586 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:10.587 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:10.588 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-26 23:35:10.591 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-26 23:35:10.593 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:35:10.595 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:35:10.596 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:10.597 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:10.600 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __userId_0)'
2022-10-26 23:35:10.605 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.user_id == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:35:10.607 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:35:10.608 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 23:35:10.609 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:10.611 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:10.612 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-26 23:35:10.615 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-26 23:35:10.618 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:35:10.620 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:35:10.621 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:10.622 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:10.629 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Unchanged"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:35:10.635 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:35:10.637 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:35:10.638 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:35:10.645 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-26 23:35:10.646 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:10.647 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:10.649 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-26 23:35:10.650 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-26 23:35:10.651 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:35:10.652 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 23:35:10.654 +01:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SB-auth"."UserTokens" SET access_token = @p0, access_token_expires_at = @p1, created_at = @p2, refresh_token = @p3, refresh_token_expires_at = @p4, user_id = @p5
WHERE user_token_id = @p6;
2022-10-26 23:35:10.657 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SB-auth"."UserTokens" SET access_token = @p0, access_token_expires_at = @p1, created_at = @p2, refresh_token = @p3, refresh_token_expires_at = @p4, user_id = @p5
WHERE user_token_id = @p6;
2022-10-26 23:35:10.661 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:35:10.661 +01:00 [DBG] Committing transaction.
2022-10-26 23:35:10.664 +01:00 [DBG] Committed transaction.
2022-10-26 23:35:10.664 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:10.666 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:10.667 +01:00 [DBG] Disposing transaction.
2022-10-26 23:35:10.668 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:35:10.670 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-26 23:35:10.671 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:35:10.673 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:35:10.674 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:35:10.675 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:35:10.676 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:35:10.677 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse'.
2022-10-26 23:35:10.679 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API) in 124.7772ms
2022-10-26 23:35:10.680 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 23:35:10.682 +01:00 [DBG] Connection id "0HMLNK8VMJT1L" completed keep alive response.
2022-10-26 23:35:10.683 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:35:10.685 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 151.8125ms
2022-10-26 23:35:10.705 +01:00 [DBG] Connection id "0HMLNK8VMJT1M" accepted.
2022-10-26 23:35:10.706 +01:00 [DBG] Connection id "0HMLNK8VMJT1M" started.
2022-10-26 23:35:10.709 +01:00 [DBG] Connection 0HMLNK8VMJT1M established using the following protocol: "Tls13"
2022-10-26 23:35:10.712 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:35:10.713 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:35:10.715 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:35:10.716 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:35:10.718 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:10.719 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:35:10.720 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:35:10.721 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:35:10.723 +01:00 [DBG] Authorization was successful.
2022-10-26 23:35:10.723 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:10.725 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:35:10.727 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:35:10.729 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:35:10.730 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:35:10.733 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:35:10.735 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:35:10.737 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:10.739 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:10.741 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:35:10.743 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:35:10.744 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 23:35:10.745 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:10.747 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:10.749 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:35:10.753 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:35:10.756 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:35:10.758 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:35:10.758 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:10.759 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:10.761 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:35:10.763 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:35:10.764 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:35:10.765 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:35:10.765 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:35:10.767 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:35:10.768 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 30.7997ms
2022-10-26 23:35:10.770 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:10.771 +01:00 [DBG] Connection id "0HMLNK8VMJT1M" completed keep alive response.
2022-10-26 23:35:10.772 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:35:10.773 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 61.4974ms
2022-10-26 23:35:15.693 +01:00 [DBG] Connection id "0HMLNK8VMJT1N" accepted.
2022-10-26 23:35:15.696 +01:00 [DBG] Connection id "0HMLNK8VMJT1N" started.
2022-10-26 23:35:15.699 +01:00 [DBG] Connection 0HMLNK8VMJT1N established using the following protocol: "Tls13"
2022-10-26 23:35:15.701 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:35:15.701 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:35:15.702 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:35:15.703 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:35:15.706 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:15.708 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:35:15.709 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:35:15.710 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:35:15.711 +01:00 [DBG] Authorization was successful.
2022-10-26 23:35:15.712 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:15.713 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:35:15.715 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:35:15.717 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:35:15.718 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:35:15.720 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:35:15.723 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:35:15.725 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:15.726 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:15.728 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:35:15.730 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:35:15.731 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 23:35:15.732 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:15.733 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:15.735 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:35:15.738 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:35:15.742 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:35:15.743 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:35:15.744 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:15.745 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:15.747 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:35:15.749 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:35:15.750 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:35:15.751 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:35:15.752 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:35:15.753 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:35:15.755 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 29.6997ms
2022-10-26 23:35:15.757 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:15.758 +01:00 [DBG] Connection id "0HMLNK8VMJT1N" completed keep alive response.
2022-10-26 23:35:15.759 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:35:15.761 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 60.3821ms
2022-10-26 23:35:20.743 +01:00 [DBG] Connection id "0HMLNK8VMJT1N" received FIN.
2022-10-26 23:35:20.743 +01:00 [DBG] Connection id "0HMLNK8VMJT1L" received FIN.
2022-10-26 23:35:20.744 +01:00 [DBG] Connection id "0HMLNK8VMJT1M" received FIN.
2022-10-26 23:35:20.744 +01:00 [DBG] Connection id "0HMLNK8VMJT1K" received FIN.
2022-10-26 23:35:20.750 +01:00 [DBG] Connection id "0HMLNK8VMJT1I" received FIN.
2022-10-26 23:35:20.746 +01:00 [DBG] Connection id "0HMLNK8VMJT1H" received FIN.
2022-10-26 23:35:20.748 +01:00 [DBG] Connection id "0HMLNK8VMJT1F" received FIN.
2022-10-26 23:35:20.749 +01:00 [DBG] Connection id "0HMLNK8VMJT1G" received FIN.
2022-10-26 23:35:20.744 +01:00 [DBG] Connection id "0HMLNK8VMJT1J" received FIN.
2022-10-26 23:35:20.752 +01:00 [DBG] Connection id "0HMLNK8VMJT1N" disconnecting.
2022-10-26 23:35:20.756 +01:00 [DBG] Connection id "0HMLNK8VMJT1L" disconnecting.
2022-10-26 23:35:20.758 +01:00 [DBG] Connection id "0HMLNK8VMJT1M" disconnecting.
2022-10-26 23:35:20.759 +01:00 [DBG] Connection id "0HMLNK8VMJT1N" sending FIN because: "The client closed the connection."
2022-10-26 23:35:20.761 +01:00 [DBG] Connection id "0HMLNK8VMJT1L" sending FIN because: "The client closed the connection."
2022-10-26 23:35:20.763 +01:00 [DBG] Connection id "0HMLNK8VMJT1M" stopped.
2022-10-26 23:35:20.764 +01:00 [DBG] Connection id "0HMLNK8VMJT1K" disconnecting.
2022-10-26 23:35:20.766 +01:00 [DBG] Connection id "0HMLNK8VMJT1I" disconnecting.
2022-10-26 23:35:20.766 +01:00 [DBG] Connection id "0HMLNK8VMJT1N" stopped.
2022-10-26 23:35:20.766 +01:00 [DBG] Connection id "0HMLNK8VMJT1L" stopped.
2022-10-26 23:35:20.767 +01:00 [DBG] Connection id "0HMLNK8VMJT1K" sending FIN because: "The client closed the connection."
2022-10-26 23:35:20.768 +01:00 [DBG] Connection id "0HMLNK8VMJT1I" stopped.
2022-10-26 23:35:20.769 +01:00 [DBG] Connection id "0HMLNK8VMJT1H" disconnecting.
2022-10-26 23:35:20.772 +01:00 [DBG] Connection id "0HMLNK8VMJT1F" disconnecting.
2022-10-26 23:35:20.773 +01:00 [DBG] Connection id "0HMLNK8VMJT1K" stopped.
2022-10-26 23:35:20.774 +01:00 [DBG] Connection id "0HMLNK8VMJT1H" sending FIN because: "The client closed the connection."
2022-10-26 23:35:20.775 +01:00 [DBG] Connection id "0HMLNK8VMJT1F" sending FIN because: "The client closed the connection."
2022-10-26 23:35:20.776 +01:00 [DBG] Connection id "0HMLNK8VMJT1G" disconnecting.
2022-10-26 23:35:20.778 +01:00 [DBG] Connection id "0HMLNK8VMJT1H" stopped.
2022-10-26 23:35:20.778 +01:00 [DBG] Connection id "0HMLNK8VMJT1F" stopped.
2022-10-26 23:35:20.778 +01:00 [DBG] Connection id "0HMLNK8VMJT1J" disconnecting.
2022-10-26 23:35:20.782 +01:00 [DBG] Connection id "0HMLNK8VMJT1G" sending FIN because: "The client closed the connection."
2022-10-26 23:35:20.784 +01:00 [DBG] Connection id "0HMLNK8VMJT1M" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:35:20.784 +01:00 [DBG] Connection id "0HMLNK8VMJT1I" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:35:20.785 +01:00 [DBG] Connection id "0HMLNK8VMJT1J" sending FIN because: "The client closed the connection."
2022-10-26 23:35:20.794 +01:00 [DBG] Connection id "0HMLNK8VMJT1G" stopped.
2022-10-26 23:35:20.794 +01:00 [DBG] Connection id "0HMLNK8VMJT1J" stopped.
2022-10-26 23:35:26.715 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:35:26.829 +01:00 [DBG] Hosting starting
2022-10-26 23:35:26.867 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:35:26.873 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:35:26.878 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:35:26.880 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:35:26.886 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:35:26.892 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:35:26.894 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:35:26.903 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:35:26.906 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:35:26.910 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:35:26.913 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:35:26.918 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:35:26.923 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:35:26.928 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:35:26.932 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:35:27.067 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:35:27.114 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:35:27.115 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:35:27.116 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:35:27.117 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:35:27.118 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:35:27.119 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:35:27.120 +01:00 [INF] Hosting environment: Development
2022-10-26 23:35:27.121 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:35:27.122 +01:00 [DBG] Hosting started
2022-10-26 23:35:27.277 +01:00 [DBG] Connection id "0HMLNK9GM44I3" accepted.
2022-10-26 23:35:27.280 +01:00 [DBG] Connection id "0HMLNK9GM44I3" started.
2022-10-26 23:35:27.313 +01:00 [DBG] Connection id "0HMLNK9GM44I4" received FIN.
2022-10-26 23:35:27.315 +01:00 [DBG] Connection id "0HMLNK9GM44I3" received FIN.
2022-10-26 23:35:27.318 +01:00 [DBG] Connection id "0HMLNK9GM44I4" accepted.
2022-10-26 23:35:27.320 +01:00 [DBG] Connection id "0HMLNK9GM44I4" started.
2022-10-26 23:35:27.328 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:35:27.330 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:35:27.390 +01:00 [DBG] Connection id "0HMLNK9GM44I4" stopped.
2022-10-26 23:35:27.391 +01:00 [DBG] Connection id "0HMLNK9GM44I3" stopped.
2022-10-26 23:35:27.395 +01:00 [DBG] Connection id "0HMLNK9GM44I4" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:35:27.395 +01:00 [DBG] Connection id "0HMLNK9GM44I3" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:35:30.082 +01:00 [DBG] Connection id "0HMLNK9GM44I5" accepted.
2022-10-26 23:35:30.083 +01:00 [DBG] Connection id "0HMLNK9GM44I5" started.
2022-10-26 23:35:30.125 +01:00 [DBG] Connection 0HMLNK9GM44I5 established using the following protocol: "Tls13"
2022-10-26 23:35:30.170 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:35:30.192 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:35:30.262 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:35:30.291 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:35:30.296 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:35:30.299 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:30.625 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:35:30.627 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:35:30.632 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:35:30.637 +01:00 [DBG] Authorization was successful.
2022-10-26 23:35:30.640 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:30.658 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:35:30.662 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:35:30.664 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:35:30.665 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:35:30.667 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:35:30.669 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:35:30.671 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:30.870 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-26 23:35:30.900 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:31.906 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:35:32.005 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: (object)__get_Item_0))'
2022-10-26 23:35:32.387 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
            SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
            FROM SB-operational.Users AS u
            WHERE u.user_id == @__get_Item_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-26 23:35:32.455 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:35:32.553 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (94ms).
2022-10-26 23:35:32.570 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:32.687 +01:00 [DBG] Connection id "0HMLNK9GM44I6" accepted.
2022-10-26 23:35:32.688 +01:00 [DBG] Connection id "0HMLNK9GM44I6" started.
2022-10-26 23:35:32.697 +01:00 [DBG] Connection 0HMLNK9GM44I6 established using the following protocol: "Tls13"
2022-10-26 23:35:32.725 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:35:32.818 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:35:32.879 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:32.898 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:35:32.936 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:35:32.945 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 218.0041ms
2022-10-26 23:35:32.993 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:35:32.996 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:35:33.000 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 6.2611ms
2022-10-26 23:35:33.087 +01:00 [INF] Executed DbCommand (142ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:35:33.093 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 96.9841ms
2022-10-26 23:35:33.153 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:35:33.224 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:35:33.235 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:33.244 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:33.257 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:35:33.261 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:35:33.262 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:35:33.263 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:35:33.264 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:35:33.265 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:35:33.267 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:35:33.314 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 2637.5237ms
2022-10-26 23:35:33.317 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:33.321 +01:00 [DBG] Connection id "0HMLNK9GM44I5" completed keep alive response.
2022-10-26 23:35:33.325 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:35:33.336 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 3170.2451ms
2022-10-26 23:35:33.495 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 231.2529ms
2022-10-26 23:35:36.959 +01:00 [DBG] Connection id "0HMLNK9GM44I7" accepted.
2022-10-26 23:35:36.961 +01:00 [DBG] Connection id "0HMLNK9GM44I7" started.
2022-10-26 23:35:36.968 +01:00 [DBG] Connection 0HMLNK9GM44I7 established using the following protocol: "Tls13"
2022-10-26 23:35:36.970 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:35:36.971 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:35:36.973 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:35:36.974 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:35:36.976 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:36.980 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:35:36.981 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:35:36.982 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:35:36.983 +01:00 [DBG] Authorization was successful.
2022-10-26 23:35:36.984 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:36.985 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:35:36.988 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:35:36.989 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:35:36.991 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:35:36.993 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:35:36.995 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:35:36.996 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:36.998 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:37.034 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:35:37.040 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:35:37.041 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:35:37.042 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:37.044 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:37.045 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:35:37.054 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:35:37.056 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:35:37.058 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:35:37.059 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:37.060 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:37.061 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:35:37.064 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:35:37.064 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:35:37.065 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:35:37.066 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:35:37.067 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:35:37.069 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 72.4707ms
2022-10-26 23:35:37.071 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:37.072 +01:00 [DBG] Connection id "0HMLNK9GM44I7" completed keep alive response.
2022-10-26 23:35:37.073 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:35:37.074 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 104.3151ms
2022-10-26 23:35:40.259 +01:00 [DBG] Connection id "0HMLNK9GM44I8" accepted.
2022-10-26 23:35:40.260 +01:00 [DBG] Connection id "0HMLNK9GM44I8" started.
2022-10-26 23:35:40.262 +01:00 [DBG] Connection 0HMLNK9GM44I8 established using the following protocol: "Tls13"
2022-10-26 23:35:40.264 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:35:40.265 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:35:40.266 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:35:40.267 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:35:40.269 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:40.271 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:35:40.271 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:35:40.273 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:35:40.274 +01:00 [DBG] Authorization was successful.
2022-10-26 23:35:40.275 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:40.276 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:35:40.278 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:35:40.279 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:35:40.282 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:35:40.284 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:35:40.285 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:35:40.287 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:40.293 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:35:40.301 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:35:40.305 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:35:40.306 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:35:40.307 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:40.308 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:40.310 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:35:40.314 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:35:40.317 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:35:40.318 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:35:40.319 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:35:40.320 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:35:40.322 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:35:40.325 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:35:40.326 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:35:40.326 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:35:40.327 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:35:40.329 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:35:40.330 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 43.4918ms
2022-10-26 23:35:40.332 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:35:40.333 +01:00 [DBG] Connection id "0HMLNK9GM44I8" completed keep alive response.
2022-10-26 23:35:40.334 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:35:40.335 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 71.4064ms
2022-10-26 23:36:37.303 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:36:37.411 +01:00 [DBG] Hosting starting
2022-10-26 23:36:37.458 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:36:37.461 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:36:37.466 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:36:37.468 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:36:37.474 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:36:37.481 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:36:37.482 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:36:37.490 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:36:37.493 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:36:37.498 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:36:37.499 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:36:37.505 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:36:37.507 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:36:37.511 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:36:37.512 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:36:37.655 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:36:37.746 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:36:37.747 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:36:37.748 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:36:37.750 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:36:37.751 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:36:37.752 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:36:37.753 +01:00 [INF] Hosting environment: Development
2022-10-26 23:36:37.754 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:36:37.755 +01:00 [DBG] Hosting started
2022-10-26 23:36:38.054 +01:00 [DBG] Connection id "0HMLNKA5P3KK4" accepted.
2022-10-26 23:36:38.058 +01:00 [DBG] Connection id "0HMLNKA5P3KK4" started.
2022-10-26 23:36:38.058 +01:00 [DBG] Connection id "0HMLNKA5P3KK5" accepted.
2022-10-26 23:36:38.062 +01:00 [DBG] Connection id "0HMLNKA5P3KK5" started.
2022-10-26 23:36:38.093 +01:00 [DBG] Connection id "0HMLNKA5P3KK5" received FIN.
2022-10-26 23:36:38.093 +01:00 [DBG] Connection id "0HMLNKA5P3KK4" received FIN.
2022-10-26 23:36:38.105 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:36:38.105 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:36:38.157 +01:00 [DBG] Connection id "0HMLNKA5P3KK5" stopped.
2022-10-26 23:36:38.157 +01:00 [DBG] Connection id "0HMLNKA5P3KK4" stopped.
2022-10-26 23:36:38.161 +01:00 [DBG] Connection id "0HMLNKA5P3KK4" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:36:38.161 +01:00 [DBG] Connection id "0HMLNKA5P3KK5" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:36:38.408 +01:00 [DBG] Connection id "0HMLNKA5P3KK6" accepted.
2022-10-26 23:36:38.437 +01:00 [DBG] Connection id "0HMLNKA5P3KK6" started.
2022-10-26 23:36:38.492 +01:00 [DBG] Connection 0HMLNKA5P3KK6 established using the following protocol: "Tls13"
2022-10-26 23:36:38.579 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:36:38.634 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:36:38.820 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:36:39.012 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:36:39.019 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 443.8031ms
2022-10-26 23:36:39.122 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:36:39.127 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:36:39.173 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 51.3197ms
2022-10-26 23:36:39.219 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 91.8156ms
2022-10-26 23:36:39.430 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:36:39.703 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 272.8737ms
2022-10-26 23:36:42.088 +01:00 [DBG] Connection id "0HMLNKA5P3KK7" accepted.
2022-10-26 23:36:42.092 +01:00 [DBG] Connection id "0HMLNKA5P3KK7" started.
2022-10-26 23:36:42.101 +01:00 [DBG] Connection 0HMLNKA5P3KK7 established using the following protocol: "Tls13"
2022-10-26 23:36:42.130 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 -
2022-10-26 23:36:42.133 +01:00 [DBG] POST requests are not supported
2022-10-26 23:36:42.157 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/renew'
2022-10-26 23:36:42.163 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Renew' is valid for the request path '/api/users/renew'
2022-10-26 23:36:42.166 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:36:42.233 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:36:42.238 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:36:42.240 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:36:42.267 +01:00 [INF] Route matched with {action = "RenewToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] RenewToken(SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:36:42.272 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:36:42.273 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:36:42.275 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:36:42.279 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:36:42.281 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:36:42.284 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:36:42.447 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-26 23:36:42.473 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:36:42.489 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:36:42.493 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' using the name '' in request data ...
2022-10-26 23:36:42.496 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:36:42.502 +01:00 [DBG] Connection id "0HMLNKA5P3KK7", Request id "0HMLNKA5P3KK7:00000002": started reading request body.
2022-10-26 23:36:42.507 +01:00 [DBG] Connection id "0HMLNKA5P3KK7", Request id "0HMLNKA5P3KK7:00000002": done reading request body.
2022-10-26 23:36:42.512 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'
2022-10-26 23:36:42.514 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:36:42.516 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:36:42.518 +01:00 [DBG] Attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:36:42.525 +01:00 [DBG] Done attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:36:43.515 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:36:43.572 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)'
2022-10-26 23:36:43.909 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.refresh_token == @__refreshToken_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:36:43.960 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:36:44.034 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (71ms).
2022-10-26 23:36:44.044 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:36:44.215 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:36:44.231 +01:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:36:44.319 +01:00 [INF] Executed DbCommand (93ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:36:44.363 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:36:44.408 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:36:44.413 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:36:44.422 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:36:44.593 +01:00 [DBG] 'SimpleBankDbContext' generated a temporary value for the property 'Id.UserToken'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:36:44.606 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:36:44.616 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:36:44.619 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:36:44.635 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-26 23:36:44.665 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:36:44.668 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:36:44.671 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-26 23:36:44.681 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-26 23:36:44.734 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:36:44.736 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:36:44.740 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:36:44.766 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:36:44.792 +01:00 [DBG] The foreign key property 'UserToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-26 23:36:44.804 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:36:44.818 +01:00 [DBG] Committing transaction.
2022-10-26 23:36:44.832 +01:00 [DBG] Committed transaction.
2022-10-26 23:36:44.839 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:36:44.842 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:36:44.847 +01:00 [DBG] Disposing transaction.
2022-10-26 23:36:44.861 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:36:44.867 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-26 23:36:44.879 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:36:44.883 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:36:44.884 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:36:44.885 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:36:44.886 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:36:44.888 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse'.
2022-10-26 23:36:44.900 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API) in 2612.9309ms
2022-10-26 23:36:44.903 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:36:44.906 +01:00 [DBG] Connection id "0HMLNKA5P3KK7" completed keep alive response.
2022-10-26 23:36:44.910 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:36:44.914 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2784.4930ms
2022-10-26 23:36:44.933 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:36:44.934 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:36:44.936 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:36:44.937 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:36:44.939 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:36:44.941 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:36:44.942 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:36:44.947 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-10-26 23:36:44.955 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-10-26 23:36:44.957 +01:00 [DBG] Connection id "0HMLNKA5P3KK7" completed keep alive response.
2022-10-26 23:36:44.959 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 401 0 - 25.5706ms
2022-10-26 23:37:05.815 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:37:05.917 +01:00 [DBG] Hosting starting
2022-10-26 23:37:05.962 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:37:05.970 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:37:05.977 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:37:05.979 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:37:05.985 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:37:05.991 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:37:05.992 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:37:06.002 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:37:06.006 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:37:06.012 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:37:06.017 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:37:06.026 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:37:06.030 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:37:06.034 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:37:06.036 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:37:06.208 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:37:06.263 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:37:06.264 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:37:06.265 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:37:06.266 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:37:06.267 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:37:06.269 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:37:06.269 +01:00 [INF] Hosting environment: Development
2022-10-26 23:37:06.270 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:37:06.271 +01:00 [DBG] Hosting started
2022-10-26 23:37:06.457 +01:00 [DBG] Connection id "0HMLNKAE7UHJJ" accepted.
2022-10-26 23:37:06.457 +01:00 [DBG] Connection id "0HMLNKAE7UHJI" accepted.
2022-10-26 23:37:06.460 +01:00 [DBG] Connection id "0HMLNKAE7UHJJ" started.
2022-10-26 23:37:06.461 +01:00 [DBG] Connection id "0HMLNKAE7UHJI" started.
2022-10-26 23:37:06.479 +01:00 [DBG] Connection id "0HMLNKAE7UHJJ" received FIN.
2022-10-26 23:37:06.485 +01:00 [DBG] Connection id "0HMLNKAE7UHJI" received FIN.
2022-10-26 23:37:06.528 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:37:06.528 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:37:06.678 +01:00 [DBG] Connection id "0HMLNKAE7UHJI" stopped.
2022-10-26 23:37:06.678 +01:00 [DBG] Connection id "0HMLNKAE7UHJJ" stopped.
2022-10-26 23:37:06.683 +01:00 [DBG] Connection id "0HMLNKAE7UHJJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:37:06.684 +01:00 [DBG] Connection id "0HMLNKAE7UHJI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:37:09.949 +01:00 [DBG] Connection id "0HMLNKAE7UHJK" accepted.
2022-10-26 23:37:09.950 +01:00 [DBG] Connection id "0HMLNKAE7UHJK" started.
2022-10-26 23:37:09.993 +01:00 [DBG] Connection 0HMLNKAE7UHJK established using the following protocol: "Tls13"
2022-10-26 23:37:10.034 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:37:10.050 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:37:10.108 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:37:10.135 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:37:10.139 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:37:10.142 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:37:10.419 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:37:10.421 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:37:10.426 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:37:10.431 +01:00 [DBG] Authorization was successful.
2022-10-26 23:37:10.433 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:37:10.448 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:37:10.452 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:37:10.454 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:37:10.456 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:37:10.458 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:37:10.460 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:37:10.462 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:37:10.624 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-26 23:37:10.651 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:37:11.649 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:37:11.769 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: (object)__get_Item_0))'
2022-10-26 23:37:11.939 +01:00 [DBG] Connection id "0HMLNKAE7UHJL" accepted.
2022-10-26 23:37:11.941 +01:00 [DBG] Connection id "0HMLNKAE7UHJL" started.
2022-10-26 23:37:11.979 +01:00 [DBG] Connection 0HMLNKAE7UHJL established using the following protocol: "Tls13"
2022-10-26 23:37:12.012 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:37:12.101 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:37:12.228 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:37:12.235 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 221.3083ms
2022-10-26 23:37:12.278 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:37:12.279 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:37:12.293 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 13.9959ms
2022-10-26 23:37:12.327 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.1680ms
2022-10-26 23:37:12.410 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
            SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
            FROM SB-operational.Users AS u
            WHERE u.user_id == @__get_Item_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-26 23:37:12.477 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:37:12.511 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:37:12.587 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (99ms).
2022-10-26 23:37:12.621 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:37:12.696 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 185.8503ms
2022-10-26 23:37:12.873 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:37:12.900 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:37:13.011 +01:00 [INF] Executed DbCommand (119ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:37:13.070 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:37:13.132 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:37:13.142 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:37:13.151 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:37:13.163 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:37:13.167 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:37:13.168 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:37:13.169 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:37:13.171 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:37:13.172 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:37:13.197 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 2731.1639ms
2022-10-26 23:37:13.203 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:37:13.210 +01:00 [DBG] Connection id "0HMLNKAE7UHJK" completed keep alive response.
2022-10-26 23:37:13.217 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:37:13.222 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 3191.5463ms
2022-10-26 23:37:15.680 +01:00 [DBG] Connection id "0HMLNKAE7UHJM" accepted.
2022-10-26 23:37:15.681 +01:00 [DBG] Connection id "0HMLNKAE7UHJM" started.
2022-10-26 23:37:15.684 +01:00 [DBG] Connection 0HMLNKAE7UHJM established using the following protocol: "Tls13"
2022-10-26 23:37:15.688 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/logout application/json;+charset=utf-8 -
2022-10-26 23:37:15.690 +01:00 [DBG] POST requests are not supported
2022-10-26 23:37:15.692 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/logout'
2022-10-26 23:37:15.693 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Logout (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Logout' is valid for the request path '/api/users/logout'
2022-10-26 23:37:15.695 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Logout (SimpleBank.AcctManage.API)'
2022-10-26 23:37:15.697 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:37:15.698 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:37:15.699 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:37:15.700 +01:00 [DBG] Authorization was successful.
2022-10-26 23:37:15.701 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Logout (SimpleBank.AcctManage.API)'
2022-10-26 23:37:15.713 +01:00 [INF] Route matched with {action = "Logout", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:37:15.716 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:37:15.717 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:37:15.719 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:37:15.722 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:37:15.723 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:37:15.725 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:37:15.727 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:37:15.735 +01:00 [DBG] Attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest' ...
2022-10-26 23:37:15.738 +01:00 [DBG] Attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest' using the name '' in request data ...
2022-10-26 23:37:15.740 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:37:15.746 +01:00 [DBG] Connection id "0HMLNKAE7UHJM", Request id "0HMLNKAE7UHJM:00000002": started reading request body.
2022-10-26 23:37:15.750 +01:00 [DBG] Connection id "0HMLNKAE7UHJM", Request id "0HMLNKAE7UHJM:00000002": done reading request body.
2022-10-26 23:37:15.756 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest'
2022-10-26 23:37:15.758 +01:00 [DBG] Done attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest'.
2022-10-26 23:37:15.760 +01:00 [DBG] Done attempting to bind parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest'.
2022-10-26 23:37:15.761 +01:00 [DBG] Attempting to validate the bound parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest' ...
2022-10-26 23:37:15.769 +01:00 [DBG] Done attempting to validate the bound parameter 'logoutUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LogoutUserRequest'.
2022-10-26 23:37:15.809 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:37:15.815 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.Id == __userTokenId_0)'
2022-10-26 23:37:15.832 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.user_token_id == @__userTokenId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:37:15.840 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:37:15.842 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:37:15.845 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:37:15.847 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:37:15.849 +01:00 [DBG] Executing DbCommand [Parameters=[@__userTokenId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_token_id = @__userTokenId_0
LIMIT 1
2022-10-26 23:37:15.855 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userTokenId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_token_id = @__userTokenId_0
LIMIT 1
2022-10-26 23:37:15.861 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:37:15.872 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:37:15.876 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:37:15.878 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:37:15.893 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:37:15.904 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:37:15.907 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:37:15.920 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-26 23:37:15.947 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:37:15.949 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:37:15.953 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-26 23:37:15.965 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-26 23:37:16.017 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:37:16.019 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-26 23:37:16.021 +01:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SB-auth"."UserTokens" SET access_token = @p0, access_token_expires_at = @p1, created_at = @p2, refresh_token = @p3, refresh_token_expires_at = @p4, user_id = @p5
WHERE user_token_id = @p6;
2022-10-26 23:37:16.039 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SB-auth"."UserTokens" SET access_token = @p0, access_token_expires_at = @p1, created_at = @p2, refresh_token = @p3, refresh_token_expires_at = @p4, user_id = @p5
WHERE user_token_id = @p6;
2022-10-26 23:37:16.048 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:37:16.057 +01:00 [DBG] Committing transaction.
2022-10-26 23:37:16.070 +01:00 [DBG] Committed transaction.
2022-10-26 23:37:16.076 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:37:16.078 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:37:16.084 +01:00 [DBG] Disposing transaction.
2022-10-26 23:37:16.089 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:37:16.095 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-26 23:37:16.100 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:37:16.102 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:37:16.104 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:37:16.105 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:37:16.106 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-10-26 23:37:16.107 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-10-26 23:37:16.109 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.Logout (SimpleBank.AcctManage.API) in 383.4283ms
2022-10-26 23:37:16.110 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Logout (SimpleBank.AcctManage.API)'
2022-10-26 23:37:16.112 +01:00 [DBG] Connection id "0HMLNKAE7UHJM" completed keep alive response.
2022-10-26 23:37:16.113 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:37:16.115 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/logout application/json;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 426.0988ms
2022-10-26 23:40:11.702 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:40:11.811 +01:00 [DBG] Hosting starting
2022-10-26 23:40:11.860 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:40:11.864 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:40:11.869 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:40:11.871 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:40:11.878 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:40:11.883 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:40:11.885 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:40:11.893 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:40:11.897 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:40:11.902 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:40:11.904 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:40:11.909 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:40:11.912 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:40:11.916 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:40:11.917 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:40:12.058 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:40:12.107 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:40:12.108 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:40:12.109 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:40:12.110 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:40:12.111 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:40:12.112 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:40:12.113 +01:00 [INF] Hosting environment: Development
2022-10-26 23:40:12.114 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:40:12.114 +01:00 [DBG] Hosting started
2022-10-26 23:40:12.474 +01:00 [DBG] Connection id "0HMLNKC5M043U" received FIN.
2022-10-26 23:40:12.513 +01:00 [DBG] Connection id "0HMLNKC5M043U" accepted.
2022-10-26 23:40:12.523 +01:00 [DBG] Connection id "0HMLNKC5M043U" started.
2022-10-26 23:40:12.546 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:40:12.664 +01:00 [DBG] Connection id "0HMLNKC5M043U" stopped.
2022-10-26 23:40:12.669 +01:00 [DBG] Connection id "0HMLNKC5M043U" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:40:12.827 +01:00 [DBG] Connection id "0HMLNKC5M043V" accepted.
2022-10-26 23:40:12.828 +01:00 [DBG] Connection id "0HMLNKC5M043V" started.
2022-10-26 23:40:12.866 +01:00 [DBG] Connection 0HMLNKC5M043V established using the following protocol: "Tls13"
2022-10-26 23:40:12.937 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:40:12.977 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:40:13.123 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:40:13.259 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:40:13.264 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 331.0785ms
2022-10-26 23:40:13.333 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:40:13.334 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:40:13.386 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 53.0296ms
2022-10-26 23:40:13.445 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 111.2464ms
2022-10-26 23:40:13.615 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:40:13.819 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 204.3556ms
2022-10-26 23:40:28.081 +01:00 [DBG] Connection id "0HMLNKC5M0440" accepted.
2022-10-26 23:40:28.083 +01:00 [DBG] Connection id "0HMLNKC5M0440" started.
2022-10-26 23:40:28.093 +01:00 [DBG] Connection 0HMLNKC5M0440 established using the following protocol: "Tls13"
2022-10-26 23:40:28.118 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/login application/json;+charset=utf-8 -
2022-10-26 23:40:28.122 +01:00 [DBG] POST requests are not supported
2022-10-26 23:40:28.150 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2022-10-26 23:40:28.157 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Login' is valid for the request path '/api/users/login'
2022-10-26 23:40:28.161 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 23:40:28.240 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:40:28.245 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:40:28.248 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 23:40:28.277 +01:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] Login(SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:40:28.281 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:40:28.283 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:40:28.284 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:40:28.287 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:40:28.289 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:40:28.292 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:40:28.535 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-26 23:40:28.567 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:40:28.585 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 23:40:28.591 +01:00 [DBG] Attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' using the name '' in request data ...
2022-10-26 23:40:28.593 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:40:28.599 +01:00 [DBG] Connection id "0HMLNKC5M0440", Request id "0HMLNKC5M0440:00000002": started reading request body.
2022-10-26 23:40:28.603 +01:00 [DBG] Connection id "0HMLNKC5M0440", Request id "0HMLNKC5M0440:00000002": done reading request body.
2022-10-26 23:40:28.610 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'
2022-10-26 23:40:28.612 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:40:28.613 +01:00 [DBG] Done attempting to bind parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:40:28.614 +01:00 [DBG] Attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest' ...
2022-10-26 23:40:28.623 +01:00 [DBG] Done attempting to validate the bound parameter 'loginUserRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.LoginUserRequest'.
2022-10-26 23:40:29.618 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:40:29.679 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2022-10-26 23:40:30.019 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
        SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
        FROM SB-operational.Users AS u
        WHERE u.username == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:40:30.072 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:40:30.143 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (68ms).
2022-10-26 23:40:30.153 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:30.335 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:30.351 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-26 23:40:30.441 +01:00 [INF] Executed DbCommand (95ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.username = @__username_0
LIMIT 1
2022-10-26 23:40:30.490 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:30.542 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:40:30.548 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:30.556 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:30.561 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __userId_0)'
2022-10-26 23:40:30.566 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.user_id == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:40:30.569 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:40:30.570 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-10-26 23:40:30.571 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:30.572 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:30.573 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-26 23:40:30.582 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.user_id = @__userId_0
LIMIT 1
2022-10-26 23:40:30.587 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:30.597 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:40:30.598 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:30.600 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:30.775 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Unchanged"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:30.791 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:30.799 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:40:30.803 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:40:30.815 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-26 23:40:30.845 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:30.848 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:30.851 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-26 23:40:30.862 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-26 23:40:30.915 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:40:30.917 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:40:30.921 +01:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SB-auth"."UserTokens" SET access_token = @p0, access_token_expires_at = @p1, created_at = @p2, refresh_token = @p3, refresh_token_expires_at = @p4, user_id = @p5
WHERE user_token_id = @p6;
2022-10-26 23:40:30.944 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SB-auth"."UserTokens" SET access_token = @p0, access_token_expires_at = @p1, created_at = @p2, refresh_token = @p3, refresh_token_expires_at = @p4, user_id = @p5
WHERE user_token_id = @p6;
2022-10-26 23:40:30.957 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:40:30.972 +01:00 [DBG] Committing transaction.
2022-10-26 23:40:30.985 +01:00 [DBG] Committed transaction.
2022-10-26 23:40:30.992 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:30.996 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:31.001 +01:00 [DBG] Disposing transaction.
2022-10-26 23:40:31.006 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:31.012 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-26 23:40:31.029 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:40:31.033 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:40:31.034 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:40:31.035 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:40:31.036 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:40:31.038 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse'.
2022-10-26 23:40:31.050 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API) in 2754.9447ms
2022-10-26 23:40:31.054 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.Login (SimpleBank.AcctManage.API)'
2022-10-26 23:40:31.057 +01:00 [DBG] Connection id "0HMLNKC5M0440" completed keep alive response.
2022-10-26 23:40:31.060 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:40:31.064 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2946.1455ms
2022-10-26 23:40:31.102 +01:00 [DBG] Connection id "0HMLNKC5M0441" accepted.
2022-10-26 23:40:31.103 +01:00 [DBG] Connection id "0HMLNKC5M0441" started.
2022-10-26 23:40:31.106 +01:00 [DBG] Connection 0HMLNKC5M0441 established using the following protocol: "Tls13"
2022-10-26 23:40:31.110 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:40:31.111 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:40:31.114 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:40:31.115 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:40:31.117 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:40:31.188 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:40:31.191 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:40:31.192 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:40:31.197 +01:00 [DBG] Authorization was successful.
2022-10-26 23:40:31.198 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:40:31.201 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:40:31.204 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:40:31.205 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:40:31.207 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:40:31.209 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:40:31.210 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:40:31.212 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:40:31.213 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:40:31.252 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:40:31.264 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: (object)__get_Item_0))'
2022-10-26 23:40:31.334 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
            SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
            FROM SB-operational.Users AS u
            WHERE u.user_id == @__get_Item_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-26 23:40:31.351 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:40:31.352 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:40:31.354 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:31.355 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:31.357 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:40:31.361 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:40:31.369 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:31.373 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:40:31.373 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:31.375 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:31.377 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:40:31.379 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:40:31.380 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:40:31.381 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:40:31.382 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:40:31.383 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:40:31.386 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 174.4918ms
2022-10-26 23:40:31.388 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:40:31.390 +01:00 [DBG] Connection id "0HMLNKC5M0441" completed keep alive response.
2022-10-26 23:40:31.391 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:40:31.392 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 282.1988ms
2022-10-26 23:40:33.674 +01:00 [DBG] Connection id "0HMLNKC5M0442" accepted.
2022-10-26 23:40:33.675 +01:00 [DBG] Connection id "0HMLNKC5M0442" started.
2022-10-26 23:40:33.679 +01:00 [DBG] Connection 0HMLNKC5M0442 established using the following protocol: "Tls13"
2022-10-26 23:40:33.680 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/accounts/ - -
2022-10-26 23:40:33.681 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:40:33.682 +01:00 [DBG] 1 candidate(s) found for the request path '/api/accounts/'
2022-10-26 23:40:33.683 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)' with route pattern 'api/Accounts' is valid for the request path '/api/accounts/'
2022-10-26 23:40:33.684 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-26 23:40:33.687 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:40:33.688 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:40:33.690 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:40:33.691 +01:00 [DBG] Authorization was successful.
2022-10-26 23:40:33.692 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-26 23:40:33.696 +01:00 [INF] Route matched with {action = "GetAllAccounts", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[SimpleBank.AcctManage.API.DTModels.Responses.AccountResponse]]] GetAllAccounts() on controller SimpleBank.AcctManage.API.Controllers.AccountsController (SimpleBank.AcctManage.API).
2022-10-26 23:40:33.699 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:40:33.700 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:40:33.701 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:40:33.703 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:40:33.705 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:40:33.707 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.AccountsController (SimpleBank.AcctManage.API)
2022-10-26 23:40:33.711 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.AccountsController (SimpleBank.AcctManage.API)
2022-10-26 23:40:33.724 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:40:33.730 +01:00 [DBG] Compiling query expression: 
'DbSet<Account>()
    .Where(account => account.UserId == __userId_0)'
2022-10-26 23:40:33.734 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Account>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Account.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Account.Balance (decimal) Required, 1], [Property: Account.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Account.Currency (string) Required ValueGenerated.OnAdd MaxLength(3), 3], [Property: Account.UserId (Guid) Required FK Index, 4] }
        SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
        FROM SB-operational.Accounts AS a
        WHERE a.user_id == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Account>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)'
2022-10-26 23:40:33.738 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:40:33.739 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:40:33.741 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:33.742 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:33.744 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:40:33.748 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:40:33.764 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:33.777 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:33.780 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:33.781 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:33.782 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:33.784 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:40:33.785 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:40:33.786 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:33.787 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:33.792 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:40:33.794 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-26 23:40:33.796 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:33.797 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:33.798 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:40:33.802 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:40:33.805 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:40:33.806 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:40:33.807 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:40:33.809 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:40:33.812 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:40:33.813 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:40:33.814 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:40:33.815 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:40:33.816 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SimpleBank.AcctManage.API.DTModels.Responses.AccountResponse, SimpleBank.AcctManage.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-26 23:40:33.825 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API) in 118.519ms
2022-10-26 23:40:33.829 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-26 23:40:33.830 +01:00 [DBG] Connection id "0HMLNKC5M0442" completed keep alive response.
2022-10-26 23:40:33.831 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:40:33.832 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/accounts/ - - - 200 - application/json;+charset=utf-8 152.1392ms
2022-10-26 23:44:28.926 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:44:29.033 +01:00 [DBG] Hosting starting
2022-10-26 23:44:29.077 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:44:29.081 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:44:29.086 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:44:29.087 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:44:29.093 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:44:29.099 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:44:29.100 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:44:29.109 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:44:29.112 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:44:29.116 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:44:29.117 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:44:29.122 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:44:29.125 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:44:29.129 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:44:29.130 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:44:29.257 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:44:29.306 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:44:29.307 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:44:29.308 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:44:29.310 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:44:29.311 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:44:29.312 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:44:29.313 +01:00 [INF] Hosting environment: Development
2022-10-26 23:44:29.314 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:44:29.314 +01:00 [DBG] Hosting started
2022-10-26 23:44:29.339 +01:00 [DBG] Connection id "0HMLNKEI7KF3V" accepted.
2022-10-26 23:44:29.342 +01:00 [DBG] Connection id "0HMLNKEI7KF3V" started.
2022-10-26 23:44:29.372 +01:00 [DBG] Connection id "0HMLNKEI7KF40" received FIN.
2022-10-26 23:44:29.376 +01:00 [DBG] Connection id "0HMLNKEI7KF3V" received FIN.
2022-10-26 23:44:29.379 +01:00 [DBG] Connection id "0HMLNKEI7KF40" accepted.
2022-10-26 23:44:29.398 +01:00 [DBG] Connection id "0HMLNKEI7KF40" started.
2022-10-26 23:44:29.409 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:44:29.424 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:44:29.490 +01:00 [DBG] Connection id "0HMLNKEI7KF40" stopped.
2022-10-26 23:44:29.491 +01:00 [DBG] Connection id "0HMLNKEI7KF3V" stopped.
2022-10-26 23:44:29.495 +01:00 [DBG] Connection id "0HMLNKEI7KF3V" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:44:29.495 +01:00 [DBG] Connection id "0HMLNKEI7KF40" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:44:34.779 +01:00 [DBG] Connection id "0HMLNKEI7KF41" accepted.
2022-10-26 23:44:34.780 +01:00 [DBG] Connection id "0HMLNKEI7KF41" started.
2022-10-26 23:44:34.817 +01:00 [DBG] Connection 0HMLNKEI7KF41 established using the following protocol: "Tls13"
2022-10-26 23:44:34.869 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:44:34.906 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:44:35.028 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:44:35.143 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:44:35.148 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 282.6779ms
2022-10-26 23:44:35.193 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:44:35.193 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:44:35.217 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 24.0363ms
2022-10-26 23:44:35.254 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.4886ms
2022-10-26 23:44:35.454 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:44:35.632 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 177.6605ms
2022-10-26 23:47:25.836 +01:00 [DBG] Connection id "0HMLNKEI7KF41" received FIN.
2022-10-26 23:47:25.860 +01:00 [DBG] Connection id "0HMLNKEI7KF41" is closed. The last processed stream ID was 21.
2022-10-26 23:47:25.863 +01:00 [DBG] Connection id "0HMLNKEI7KF41" sending FIN because: "The client closed the connection."
2022-10-26 23:47:25.867 +01:00 [DBG] Connection id "0HMLNKEI7KF41" stopped.
2022-10-26 23:48:20.158 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:48:20.271 +01:00 [DBG] Hosting starting
2022-10-26 23:48:20.309 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:48:20.314 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:48:20.320 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:48:20.322 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:48:20.328 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:48:20.333 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:48:20.335 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:48:20.343 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:48:20.346 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:48:20.350 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:48:20.352 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:48:20.357 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:48:20.360 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:48:20.364 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:48:20.365 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:48:20.490 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:48:20.539 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:48:20.541 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:48:20.542 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:48:20.543 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:48:20.561 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:48:20.563 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:48:20.564 +01:00 [INF] Hosting environment: Development
2022-10-26 23:48:20.566 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:48:20.568 +01:00 [DBG] Hosting started
2022-10-26 23:48:21.009 +01:00 [DBG] Connection id "0HMLNKGN90C9T" accepted.
2022-10-26 23:48:21.011 +01:00 [DBG] Connection id "0HMLNKGN90C9U" accepted.
2022-10-26 23:48:21.012 +01:00 [DBG] Connection id "0HMLNKGN90C9T" started.
2022-10-26 23:48:21.013 +01:00 [DBG] Connection id "0HMLNKGN90C9U" started.
2022-10-26 23:48:21.048 +01:00 [DBG] Connection id "0HMLNKGN90C9U" received FIN.
2022-10-26 23:48:21.048 +01:00 [DBG] Connection id "0HMLNKGN90C9T" received FIN.
2022-10-26 23:48:21.062 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:48:21.062 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:48:21.111 +01:00 [DBG] Connection id "0HMLNKGN90C9U" stopped.
2022-10-26 23:48:21.111 +01:00 [DBG] Connection id "0HMLNKGN90C9T" stopped.
2022-10-26 23:48:21.118 +01:00 [DBG] Connection id "0HMLNKGN90C9U" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:48:21.119 +01:00 [DBG] Connection id "0HMLNKGN90C9T" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:48:21.298 +01:00 [DBG] Connection id "0HMLNKGN90C9V" accepted.
2022-10-26 23:48:21.300 +01:00 [DBG] Connection id "0HMLNKGN90C9V" started.
2022-10-26 23:48:21.338 +01:00 [DBG] Connection 0HMLNKGN90C9V established using the following protocol: "Tls13"
2022-10-26 23:48:21.396 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:48:21.437 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:48:21.587 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:48:21.755 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:48:21.762 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 369.1308ms
2022-10-26 23:48:21.879 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:48:21.880 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:48:21.894 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 15.2158ms
2022-10-26 23:48:21.961 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.4965ms
2022-10-26 23:48:22.101 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:48:22.259 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.0412ms
2022-10-26 23:48:37.112 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:48:37.214 +01:00 [DBG] Hosting starting
2022-10-26 23:48:37.258 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:48:37.263 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:48:37.270 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:48:37.271 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:48:37.277 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:48:37.283 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:48:37.284 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:48:37.293 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:48:37.296 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:48:37.299 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:48:37.301 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:48:37.306 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:48:37.309 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:48:37.313 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:48:37.315 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:48:37.440 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:48:37.491 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:48:37.492 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:48:37.493 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:48:37.494 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:48:37.495 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:48:37.496 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:48:37.497 +01:00 [INF] Hosting environment: Development
2022-10-26 23:48:37.498 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:48:37.499 +01:00 [DBG] Hosting started
2022-10-26 23:48:37.668 +01:00 [DBG] Connection id "0HMLNKGS7RP29" accepted.
2022-10-26 23:48:37.668 +01:00 [DBG] Connection id "0HMLNKGS7RP28" accepted.
2022-10-26 23:48:37.672 +01:00 [DBG] Connection id "0HMLNKGS7RP29" started.
2022-10-26 23:48:37.672 +01:00 [DBG] Connection id "0HMLNKGS7RP28" started.
2022-10-26 23:48:37.691 +01:00 [DBG] Connection id "0HMLNKGS7RP29" received FIN.
2022-10-26 23:48:37.691 +01:00 [DBG] Connection id "0HMLNKGS7RP28" received FIN.
2022-10-26 23:48:37.704 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:48:37.763 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:48:37.806 +01:00 [DBG] Connection id "0HMLNKGS7RP29" stopped.
2022-10-26 23:48:37.806 +01:00 [DBG] Connection id "0HMLNKGS7RP28" stopped.
2022-10-26 23:48:37.809 +01:00 [DBG] Connection id "0HMLNKGS7RP29" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:48:37.809 +01:00 [DBG] Connection id "0HMLNKGS7RP28" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:48:38.110 +01:00 [DBG] Connection id "0HMLNKGS7RP2A" accepted.
2022-10-26 23:48:38.112 +01:00 [DBG] Connection id "0HMLNKGS7RP2A" started.
2022-10-26 23:48:38.152 +01:00 [DBG] Connection 0HMLNKGS7RP2A established using the following protocol: "Tls13"
2022-10-26 23:48:38.203 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:48:38.238 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:48:38.356 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:48:38.510 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:48:38.517 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 317.2992ms
2022-10-26 23:48:38.548 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:48:38.548 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:48:38.558 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 10.5694ms
2022-10-26 23:48:38.606 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.2185ms
2022-10-26 23:48:39.067 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:48:39.223 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 156.9004ms
2022-10-26 23:49:43.243 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:49:43.351 +01:00 [DBG] Hosting starting
2022-10-26 23:49:43.390 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:49:43.394 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:49:43.401 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:49:43.402 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:49:43.409 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:49:43.415 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:49:43.416 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:49:43.426 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:49:43.428 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:49:43.432 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:49:43.434 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:49:43.438 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:49:43.441 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:49:43.445 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:49:43.447 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:49:43.577 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:49:43.627 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:49:43.629 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:49:43.630 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:49:43.631 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:49:43.634 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:49:43.635 +01:00 [DBG] Connection id "0HMLNKHFT0J49" received FIN.
2022-10-26 23:49:43.635 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:49:43.655 +01:00 [INF] Hosting environment: Development
2022-10-26 23:49:43.646 +01:00 [DBG] Connection id "0HMLNKHFT0J49" accepted.
2022-10-26 23:49:43.657 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:49:43.660 +01:00 [DBG] Connection id "0HMLNKHFT0J49" started.
2022-10-26 23:49:43.667 +01:00 [DBG] Hosting started
2022-10-26 23:49:43.702 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:49:43.757 +01:00 [DBG] Connection id "0HMLNKHFT0J49" stopped.
2022-10-26 23:49:43.771 +01:00 [DBG] Connection id "0HMLNKHFT0J49" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:49:44.119 +01:00 [DBG] Connection id "0HMLNKHFT0J4A" accepted.
2022-10-26 23:49:44.125 +01:00 [DBG] Connection id "0HMLNKHFT0J4A" started.
2022-10-26 23:49:44.201 +01:00 [DBG] Connection 0HMLNKHFT0J4A established using the following protocol: "Tls13"
2022-10-26 23:49:44.266 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:49:44.301 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:49:44.421 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:49:44.543 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:49:44.549 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 286.2859ms
2022-10-26 23:49:44.593 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:49:44.594 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:49:44.612 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 18.8938ms
2022-10-26 23:49:44.648 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.3406ms
2022-10-26 23:49:45.108 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:49:45.264 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.9709ms
2022-10-26 23:50:21.807 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:50:21.944 +01:00 [DBG] Hosting starting
2022-10-26 23:50:21.986 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:50:21.991 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:50:21.998 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:50:21.999 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:50:22.006 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:50:22.012 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:50:22.014 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:50:22.023 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:50:22.026 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:50:22.029 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:50:22.031 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:50:22.035 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:50:22.038 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:50:22.042 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:50:22.043 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:50:22.169 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:50:22.216 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:50:22.218 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:50:22.219 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:50:22.221 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:50:22.223 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:50:22.225 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:50:22.226 +01:00 [INF] Hosting environment: Development
2022-10-26 23:50:22.226 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:50:22.227 +01:00 [DBG] Hosting started
2022-10-26 23:50:22.478 +01:00 [DBG] Connection id "0HMLNKHRFDKIQ" accepted.
2022-10-26 23:50:22.480 +01:00 [DBG] Connection id "0HMLNKHRFDKIQ" started.
2022-10-26 23:50:22.482 +01:00 [DBG] Connection id "0HMLNKHRFDKIR" accepted.
2022-10-26 23:50:22.484 +01:00 [DBG] Connection id "0HMLNKHRFDKIR" started.
2022-10-26 23:50:22.504 +01:00 [DBG] Connection id "0HMLNKHRFDKIQ" received FIN.
2022-10-26 23:50:22.504 +01:00 [DBG] Connection id "0HMLNKHRFDKIR" received FIN.
2022-10-26 23:50:22.521 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:50:22.523 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:50:22.572 +01:00 [DBG] Connection id "0HMLNKHRFDKIR" stopped.
2022-10-26 23:50:22.572 +01:00 [DBG] Connection id "0HMLNKHRFDKIQ" stopped.
2022-10-26 23:50:22.576 +01:00 [DBG] Connection id "0HMLNKHRFDKIQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:50:22.576 +01:00 [DBG] Connection id "0HMLNKHRFDKIR" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:50:28.203 +01:00 [DBG] Connection id "0HMLNKHRFDKIS" accepted.
2022-10-26 23:50:28.205 +01:00 [DBG] Connection id "0HMLNKHRFDKIS" started.
2022-10-26 23:50:28.242 +01:00 [DBG] Connection 0HMLNKHRFDKIS established using the following protocol: "Tls13"
2022-10-26 23:50:28.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:50:28.365 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:50:28.486 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:50:28.611 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:50:28.616 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 322.0333ms
2022-10-26 23:50:28.672 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:50:28.672 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:50:28.681 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 9.2333ms
2022-10-26 23:50:28.698 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.0141ms
2022-10-26 23:50:28.909 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:50:29.081 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 171.3938ms
2022-10-26 23:51:22.689 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:51:22.818 +01:00 [DBG] Hosting starting
2022-10-26 23:51:22.862 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:51:22.873 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:51:22.880 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:51:22.881 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:51:22.890 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:51:22.895 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:51:22.897 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:51:22.913 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:51:22.916 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:51:22.923 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:51:22.926 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:51:22.932 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:51:22.935 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:51:22.938 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:51:22.940 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:51:23.078 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:51:23.127 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:51:23.128 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:51:23.129 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:51:23.130 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:51:23.132 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:51:23.133 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:51:23.133 +01:00 [INF] Hosting environment: Development
2022-10-26 23:51:23.134 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:51:23.135 +01:00 [DBG] Hosting started
2022-10-26 23:51:23.277 +01:00 [DBG] Connection id "0HMLNKIDJ7OLK" accepted.
2022-10-26 23:51:23.282 +01:00 [DBG] Connection id "0HMLNKIDJ7OLK" started.
2022-10-26 23:51:23.303 +01:00 [DBG] Connection id "0HMLNKIDJ7OLK" received FIN.
2022-10-26 23:51:23.352 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:51:23.411 +01:00 [DBG] Connection id "0HMLNKIDJ7OLK" stopped.
2022-10-26 23:51:23.414 +01:00 [DBG] Connection id "0HMLNKIDJ7OLK" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:51:23.597 +01:00 [DBG] Connection id "0HMLNKIDJ7OLL" accepted.
2022-10-26 23:51:23.598 +01:00 [DBG] Connection id "0HMLNKIDJ7OLL" started.
2022-10-26 23:51:23.643 +01:00 [DBG] Connection 0HMLNKIDJ7OLL established using the following protocol: "Tls13"
2022-10-26 23:51:23.690 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:51:23.723 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:51:23.852 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:51:23.964 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:51:23.972 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 284.5069ms
2022-10-26 23:51:24.046 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:51:24.047 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:51:24.064 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 18.0476ms
2022-10-26 23:51:24.093 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.4757ms
2022-10-26 23:51:24.265 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:51:24.453 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 188.1955ms
2022-10-26 23:51:34.016 +01:00 [DBG] Connection id "0HMLNKIDJ7OLM" accepted.
2022-10-26 23:51:34.018 +01:00 [DBG] Connection id "0HMLNKIDJ7OLM" started.
2022-10-26 23:51:34.027 +01:00 [DBG] Connection 0HMLNKIDJ7OLM established using the following protocol: "Tls13"
2022-10-26 23:51:34.051 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 -
2022-10-26 23:51:34.054 +01:00 [DBG] POST requests are not supported
2022-10-26 23:51:34.079 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/renew'
2022-10-26 23:51:34.085 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Renew' is valid for the request path '/api/users/renew'
2022-10-26 23:51:34.088 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:51:34.160 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:51:34.164 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:51:34.167 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:51:34.193 +01:00 [INF] Route matched with {action = "RenewToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] RenewToken(SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:51:34.197 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:51:34.199 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:51:34.200 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:51:34.202 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:51:34.204 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:51:34.206 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:51:34.415 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-26 23:51:34.445 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:51:34.457 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:51:34.461 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' using the name '' in request data ...
2022-10-26 23:51:34.463 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:51:34.468 +01:00 [DBG] Connection id "0HMLNKIDJ7OLM", Request id "0HMLNKIDJ7OLM:00000002": started reading request body.
2022-10-26 23:51:34.472 +01:00 [DBG] Connection id "0HMLNKIDJ7OLM", Request id "0HMLNKIDJ7OLM:00000002": done reading request body.
2022-10-26 23:51:34.477 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'
2022-10-26 23:51:34.479 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:51:34.481 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:51:34.483 +01:00 [DBG] Attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:51:34.491 +01:00 [DBG] Done attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:51:35.458 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:51:35.511 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)'
2022-10-26 23:51:35.849 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.refresh_token == @__refreshToken_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:51:35.894 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:51:35.978 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (79ms).
2022-10-26 23:51:35.989 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:51:36.204 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:51:36.220 +01:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:51:36.316 +01:00 [INF] Executed DbCommand (102ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:51:36.357 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:51:36.411 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:51:36.416 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:51:36.427 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:51:36.610 +01:00 [DBG] 'SimpleBankDbContext' generated a temporary value for the property 'Id.UserToken'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:51:36.627 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:51:36.637 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:51:36.640 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:51:36.656 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-26 23:51:36.686 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:51:36.688 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:51:36.692 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-26 23:51:36.703 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-26 23:51:36.758 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:51:36.759 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:51:36.763 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:51:36.827 +01:00 [INF] Executed DbCommand (64ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:51:36.855 +01:00 [DBG] The foreign key property 'UserToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-26 23:51:36.868 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:51:36.881 +01:00 [DBG] Committing transaction.
2022-10-26 23:51:36.893 +01:00 [DBG] Committed transaction.
2022-10-26 23:51:36.899 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:51:36.902 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:51:36.907 +01:00 [DBG] Disposing transaction.
2022-10-26 23:51:36.922 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:51:36.928 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-26 23:51:36.941 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:51:36.946 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:51:36.947 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:51:36.948 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:51:36.949 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:51:36.951 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse'.
2022-10-26 23:51:36.964 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API) in 2754.8472ms
2022-10-26 23:51:36.968 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:51:36.971 +01:00 [DBG] Connection id "0HMLNKIDJ7OLM" completed keep alive response.
2022-10-26 23:51:36.975 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:51:36.979 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2927.9385ms
2022-10-26 23:51:36.993 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:51:36.995 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:51:36.997 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:51:36.998 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:51:36.999 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:51:37.003 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:51:37.004 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:51:37.008 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-10-26 23:51:37.016 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-10-26 23:51:37.018 +01:00 [DBG] Connection id "0HMLNKIDJ7OLM" completed keep alive response.
2022-10-26 23:51:37.020 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 401 0 - 26.0877ms
2022-10-26 23:51:43.295 +01:00 [DBG] Connection id "0HMLNKIDJ7OLM" received FIN.
2022-10-26 23:51:43.297 +01:00 [DBG] Connection id "0HMLNKIDJ7OLM" disconnecting.
2022-10-26 23:51:43.298 +01:00 [DBG] Connection id "0HMLNKIDJ7OLM" sending FIN because: "The client closed the connection."
2022-10-26 23:51:43.311 +01:00 [DBG] Connection id "0HMLNKIDJ7OLM" stopped.
2022-10-26 23:52:46.341 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:52:46.498 +01:00 [DBG] Hosting starting
2022-10-26 23:52:46.540 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:52:46.545 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:52:46.552 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:52:46.553 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:52:46.561 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:52:46.568 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:52:46.569 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:52:46.579 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:52:46.584 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:52:46.587 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:52:46.590 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:52:46.597 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:52:46.605 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:52:46.611 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:52:46.619 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:52:46.842 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:52:46.916 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:52:46.917 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:52:46.919 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:52:46.921 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:52:46.923 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:52:46.924 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:52:46.925 +01:00 [INF] Hosting environment: Development
2022-10-26 23:52:46.926 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:52:46.927 +01:00 [DBG] Hosting started
2022-10-26 23:52:47.315 +01:00 [DBG] Connection id "0HMLNKJ6KMK13" accepted.
2022-10-26 23:52:47.319 +01:00 [DBG] Connection id "0HMLNKJ6KMK14" accepted.
2022-10-26 23:52:47.319 +01:00 [DBG] Connection id "0HMLNKJ6KMK13" started.
2022-10-26 23:52:47.321 +01:00 [DBG] Connection id "0HMLNKJ6KMK14" started.
2022-10-26 23:52:47.360 +01:00 [DBG] Connection id "0HMLNKJ6KMK14" received FIN.
2022-10-26 23:52:47.360 +01:00 [DBG] Connection id "0HMLNKJ6KMK13" received FIN.
2022-10-26 23:52:47.408 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:52:47.411 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:52:48.398 +01:00 [DBG] Connection id "0HMLNKJ6KMK15" accepted.
2022-10-26 23:52:48.412 +01:00 [DBG] Connection id "0HMLNKJ6KMK15" started.
2022-10-26 23:52:48.414 +01:00 [DBG] Connection id "0HMLNKJ6KMK14" stopped.
2022-10-26 23:52:48.414 +01:00 [DBG] Connection id "0HMLNKJ6KMK13" stopped.
2022-10-26 23:52:48.421 +01:00 [DBG] Connection id "0HMLNKJ6KMK14" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:52:48.421 +01:00 [DBG] Connection id "0HMLNKJ6KMK13" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:52:48.450 +01:00 [DBG] Connection 0HMLNKJ6KMK15 established using the following protocol: "Tls13"
2022-10-26 23:52:48.501 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:52:48.535 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:52:48.704 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:52:48.824 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:52:48.831 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 333.3898ms
2022-10-26 23:52:48.884 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:52:48.886 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:52:48.893 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 9.1456ms
2022-10-26 23:52:49.008 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 122.4345ms
2022-10-26 23:52:49.230 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:52:49.531 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 301.4122ms
2022-10-26 23:52:53.414 +01:00 [DBG] Connection id "0HMLNKJ6KMK16" accepted.
2022-10-26 23:52:53.415 +01:00 [DBG] Connection id "0HMLNKJ6KMK16" started.
2022-10-26 23:52:53.425 +01:00 [DBG] Connection 0HMLNKJ6KMK16 established using the following protocol: "Tls13"
2022-10-26 23:52:53.448 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 -
2022-10-26 23:52:53.452 +01:00 [DBG] POST requests are not supported
2022-10-26 23:52:53.475 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/renew'
2022-10-26 23:52:53.480 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Renew' is valid for the request path '/api/users/renew'
2022-10-26 23:52:53.483 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:52:53.548 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:52:53.553 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:52:53.555 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:52:53.581 +01:00 [INF] Route matched with {action = "RenewToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] RenewToken(SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:52:53.585 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:52:53.587 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:52:53.588 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:52:53.590 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:52:53.592 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:52:53.594 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:52:53.759 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-26 23:52:53.786 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:52:53.800 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:52:53.804 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' using the name '' in request data ...
2022-10-26 23:52:53.807 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:52:53.813 +01:00 [DBG] Connection id "0HMLNKJ6KMK16", Request id "0HMLNKJ6KMK16:00000002": started reading request body.
2022-10-26 23:52:53.817 +01:00 [DBG] Connection id "0HMLNKJ6KMK16", Request id "0HMLNKJ6KMK16:00000002": done reading request body.
2022-10-26 23:52:53.822 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'
2022-10-26 23:52:53.824 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:52:53.826 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:52:53.828 +01:00 [DBG] Attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:52:53.835 +01:00 [DBG] Done attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:52:54.785 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:52:54.843 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)'
2022-10-26 23:52:55.186 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.refresh_token == @__refreshToken_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:52:55.238 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:52:55.305 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (64ms).
2022-10-26 23:52:55.314 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:52:55.486 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:52:55.502 +01:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:52:55.590 +01:00 [INF] Executed DbCommand (93ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:52:55.637 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:52:55.682 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:52:55.687 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:52:55.696 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:52:55.856 +01:00 [DBG] 'SimpleBankDbContext' generated a temporary value for the property 'Id.UserToken'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:52:55.884 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:52:55.893 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:52:55.897 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:52:55.913 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-26 23:52:55.941 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:52:55.944 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:52:55.948 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-26 23:52:55.957 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-26 23:52:56.011 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:52:56.013 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-26 23:52:56.017 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:52:56.043 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:52:56.069 +01:00 [DBG] The foreign key property 'UserToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-26 23:52:56.081 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:52:56.095 +01:00 [DBG] Committing transaction.
2022-10-26 23:52:56.108 +01:00 [DBG] Committed transaction.
2022-10-26 23:52:56.115 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:52:56.118 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:52:56.124 +01:00 [DBG] Disposing transaction.
2022-10-26 23:52:56.138 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:52:56.144 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-26 23:52:56.155 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:52:56.160 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:52:56.161 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:52:56.162 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:52:56.164 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:52:56.165 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse'.
2022-10-26 23:52:56.177 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API) in 2579.8328ms
2022-10-26 23:52:56.181 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:52:56.185 +01:00 [DBG] Connection id "0HMLNKJ6KMK16" completed keep alive response.
2022-10-26 23:52:56.188 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:52:56.192 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2744.2611ms
2022-10-26 23:52:56.209 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:52:56.210 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:52:56.212 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:52:56.214 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:52:56.218 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:52:56.223 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:52:56.225 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:52:56.232 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-10-26 23:52:56.241 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-10-26 23:52:56.243 +01:00 [DBG] Connection id "0HMLNKJ6KMK16" completed keep alive response.
2022-10-26 23:52:56.245 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 401 0 - 35.9171ms
2022-10-26 23:52:58.774 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:52:58.775 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:52:58.776 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:52:58.778 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:52:58.780 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:52:58.852 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:52:58.855 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:52:58.856 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:52:58.858 +01:00 [DBG] Authorization was successful.
2022-10-26 23:52:58.859 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:52:58.862 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse]] GetUserInfo() on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:52:58.864 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:52:58.866 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:52:58.867 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:52:58.869 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:52:58.870 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:52:58.872 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:52:58.874 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:52:58.912 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:52:58.926 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: (object)__get_Item_0))'
2022-10-26 23:52:59.005 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: User.Email (string) Required Index MaxLength(320), 2], [Property: User.Fullname (string) Required, 3], [Property: User.Password (byte[]) Required, 4], [Property: User.PasswordChangedAt (DateTime?) ValueGenerated.OnAdd, 5], [Property: User.Salt (byte[]) Required, 6], [Property: User.Username (string) Required Index, 7] }
            SELECT TOP(1) u.user_id, u.created_at, u.email, u.fullname, u.Password, u.password_changed_at, u.salt, u.username
            FROM SB-operational.Users AS u
            WHERE u.user_id == @__get_Item_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-10-26 23:52:59.021 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:52:59.022 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:52:59.023 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:52:59.025 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:52:59.026 +01:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:52:59.032 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.created_at, u.email, u.fullname, u."Password", u.password_changed_at, u.salt, u.username
FROM "SB-operational"."Users" AS u
WHERE u.user_id = @__get_Item_0
LIMIT 1
2022-10-26 23:52:59.050 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:52:59.070 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:52:59.071 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:52:59.074 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:52:59.077 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:52:59.080 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:52:59.081 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:52:59.082 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:52:59.083 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:52:59.084 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.CreateUserResponse'.
2022-10-26 23:52:59.087 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API) in 215.0087ms
2022-10-26 23:52:59.088 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:52:59.091 +01:00 [DBG] Connection id "0HMLNKJ6KMK16" completed keep alive response.
2022-10-26 23:52:59.092 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:52:59.093 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 200 - application/json;+charset=utf-8 319.1800ms
2022-10-26 23:53:04.361 +01:00 [DBG] Connection id "0HMLNKJ6KMK17" accepted.
2022-10-26 23:53:04.362 +01:00 [DBG] Connection id "0HMLNKJ6KMK17" started.
2022-10-26 23:53:04.365 +01:00 [DBG] Connection 0HMLNKJ6KMK17 established using the following protocol: "Tls13"
2022-10-26 23:53:04.366 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/accounts/ - -
2022-10-26 23:53:04.367 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:53:04.368 +01:00 [DBG] 1 candidate(s) found for the request path '/api/accounts/'
2022-10-26 23:53:04.370 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)' with route pattern 'api/Accounts' is valid for the request path '/api/accounts/'
2022-10-26 23:53:04.372 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-26 23:53:04.373 +01:00 [DBG] Successfully validated the token.
2022-10-26 23:53:04.374 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:53:04.375 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-10-26 23:53:04.376 +01:00 [DBG] Authorization was successful.
2022-10-26 23:53:04.377 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-26 23:53:04.380 +01:00 [INF] Route matched with {action = "GetAllAccounts", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[SimpleBank.AcctManage.API.DTModels.Responses.AccountResponse]]] GetAllAccounts() on controller SimpleBank.AcctManage.API.Controllers.AccountsController (SimpleBank.AcctManage.API).
2022-10-26 23:53:04.383 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:53:04.384 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:53:04.386 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:53:04.388 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:53:04.390 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:53:04.391 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.AccountsController (SimpleBank.AcctManage.API)
2022-10-26 23:53:04.394 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.AccountsController (SimpleBank.AcctManage.API)
2022-10-26 23:53:04.404 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:53:04.409 +01:00 [DBG] Compiling query expression: 
'DbSet<Account>()
    .Where(account => account.UserId == __userId_0)'
2022-10-26 23:53:04.413 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Account>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Account.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Account.Balance (decimal) Required, 1], [Property: Account.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Account.Currency (string) Required ValueGenerated.OnAdd MaxLength(3), 3], [Property: Account.UserId (Guid) Required FK Index, 4] }
        SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
        FROM SB-operational.Accounts AS a
        WHERE a.user_id == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Account>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)'
2022-10-26 23:53:04.417 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:53:04.419 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-26 23:53:04.421 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:53:04.422 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:53:04.423 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:53:04.427 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:53:04.442 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:53:04.455 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:53:04.457 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:53:04.460 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:53:04.461 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:53:04.463 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:53:04.464 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:53:04.465 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:53:04.466 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:53:04.471 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:53:04.473 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:53:04.474 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:53:04.475 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:53:04.477 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:53:04.481 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a.account_id, a.balance, a.created_at, a.currency, a.user_id
FROM "SB-operational"."Accounts" AS a
WHERE a.user_id = @__userId_0
2022-10-26 23:53:04.483 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:53:04.484 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:53:04.486 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:53:04.488 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:53:04.490 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:53:04.491 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:53:04.492 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:53:04.493 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:53:04.494 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SimpleBank.AcctManage.API.DTModels.Responses.AccountResponse, SimpleBank.AcctManage.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-26 23:53:04.503 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API) in 111.7093ms
2022-10-26 23:53:04.505 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.AccountsController.GetAllAccounts (SimpleBank.AcctManage.API)'
2022-10-26 23:53:04.507 +01:00 [DBG] Connection id "0HMLNKJ6KMK17" completed keep alive response.
2022-10-26 23:53:04.508 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:53:04.509 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/accounts/ - - - 200 - application/json;+charset=utf-8 142.5492ms
2022-10-26 23:58:19.277 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:58:19.410 +01:00 [DBG] Hosting starting
2022-10-26 23:58:19.460 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:58:19.464 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:58:19.471 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:58:19.473 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:58:19.479 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:58:19.486 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:58:19.487 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:58:19.496 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:58:19.498 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:58:19.504 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:58:19.506 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:58:19.510 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:58:19.514 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:58:19.519 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:58:19.520 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:58:19.652 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:58:19.697 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:58:19.699 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:58:19.700 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:58:19.701 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:58:19.702 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:58:19.703 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:58:19.704 +01:00 [INF] Hosting environment: Development
2022-10-26 23:58:19.705 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:58:19.706 +01:00 [DBG] Hosting started
2022-10-26 23:58:19.772 +01:00 [DBG] Connection id "0HMLNKM9N91SP" received FIN.
2022-10-26 23:58:19.772 +01:00 [DBG] Connection id "0HMLNKM9N91SQ" received FIN.
2022-10-26 23:58:19.788 +01:00 [DBG] Connection id "0HMLNKM9N91SQ" accepted.
2022-10-26 23:58:19.788 +01:00 [DBG] Connection id "0HMLNKM9N91SP" accepted.
2022-10-26 23:58:19.802 +01:00 [DBG] Connection id "0HMLNKM9N91SP" started.
2022-10-26 23:58:19.802 +01:00 [DBG] Connection id "0HMLNKM9N91SQ" started.
2022-10-26 23:58:19.833 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:58:19.833 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:58:19.933 +01:00 [DBG] Connection id "0HMLNKM9N91SQ" stopped.
2022-10-26 23:58:19.933 +01:00 [DBG] Connection id "0HMLNKM9N91SP" stopped.
2022-10-26 23:58:19.939 +01:00 [DBG] Connection id "0HMLNKM9N91SQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:58:19.939 +01:00 [DBG] Connection id "0HMLNKM9N91SP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:58:23.578 +01:00 [DBG] Connection id "0HMLNKM9N91SR" accepted.
2022-10-26 23:58:23.579 +01:00 [DBG] Connection id "0HMLNKM9N91SR" started.
2022-10-26 23:58:23.624 +01:00 [DBG] Connection 0HMLNKM9N91SR established using the following protocol: "Tls13"
2022-10-26 23:58:23.663 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 -
2022-10-26 23:58:23.680 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:58:23.734 +01:00 [DBG] POST requests are not supported
2022-10-26 23:58:23.765 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/renew'
2022-10-26 23:58:23.770 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Renew' is valid for the request path '/api/users/renew'
2022-10-26 23:58:23.772 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:58:23.851 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:58:23.855 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:58:23.857 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:58:23.882 +01:00 [INF] Route matched with {action = "RenewToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] RenewToken(SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:58:23.886 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:58:23.887 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:58:23.889 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:58:23.891 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:58:23.892 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:58:23.894 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:58:24.106 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-26 23:58:24.138 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:58:24.154 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:58:24.159 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' using the name '' in request data ...
2022-10-26 23:58:24.161 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:58:24.177 +01:00 [DBG] Connection id "0HMLNKM9N91SR", Request id "0HMLNKM9N91SR:00000002": started reading request body.
2022-10-26 23:58:24.184 +01:00 [DBG] Connection id "0HMLNKM9N91SR", Request id "0HMLNKM9N91SR:00000002": done reading request body.
2022-10-26 23:58:24.189 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'
2022-10-26 23:58:24.191 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:58:24.193 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:58:24.194 +01:00 [DBG] Attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:58:24.203 +01:00 [DBG] Done attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:58:25.139 +01:00 [DBG] Connection id "0HMLNKM9N91SS" accepted.
2022-10-26 23:58:25.141 +01:00 [DBG] Connection id "0HMLNKM9N91SS" started.
2022-10-26 23:58:25.151 +01:00 [DBG] Connection 0HMLNKM9N91SS established using the following protocol: "Tls13"
2022-10-26 23:58:25.186 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:58:25.272 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:58:25.393 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:58:25.399 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 211.9797ms
2022-10-26 23:58:25.401 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:58:25.498 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:58:25.498 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:58:25.504 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 6.2932ms
2022-10-26 23:58:25.579 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.1639ms
2022-10-26 23:58:27.057 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:58:27.078 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)'
2022-10-26 23:58:27.196 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.3809ms
2022-10-26 23:58:27.448 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.refresh_token == @__refreshToken_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:58:27.504 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:58:27.589 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (81ms).
2022-10-26 23:58:27.599 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:58:27.803 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:58:27.822 +01:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:58:27.927 +01:00 [INF] Executed DbCommand (112ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:58:27.973 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:58:28.020 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:58:28.026 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:58:28.035 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:58:28.210 +01:00 [DBG] 'SimpleBankDbContext' generated a temporary value for the property 'Id.UserToken'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:58:28.223 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:58:28.233 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:58:28.237 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:58:28.253 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-26 23:58:28.283 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:58:28.286 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:58:28.290 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-26 23:58:28.303 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-26 23:58:28.365 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:58:28.367 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-10-26 23:58:28.370 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:58:28.396 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:58:28.424 +01:00 [DBG] The foreign key property 'UserToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-26 23:58:28.437 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:58:28.451 +01:00 [DBG] Committing transaction.
2022-10-26 23:58:28.464 +01:00 [DBG] Committed transaction.
2022-10-26 23:58:28.472 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:58:28.475 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:58:28.480 +01:00 [DBG] Disposing transaction.
2022-10-26 23:58:28.494 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:58:28.501 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-26 23:58:28.516 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:58:28.520 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:58:28.521 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:58:28.522 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:58:28.523 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:58:28.525 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse'.
2022-10-26 23:58:28.540 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API) in 4642.0132ms
2022-10-26 23:58:28.545 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:58:28.549 +01:00 [DBG] Connection id "0HMLNKM9N91SR" completed keep alive response.
2022-10-26 23:58:28.553 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:58:28.559 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 4900.0526ms
2022-10-26 23:58:28.589 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:58:28.592 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:58:28.595 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:58:28.596 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:58:28.598 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:58:28.601 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:58:28.603 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:58:28.609 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-10-26 23:58:28.617 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-10-26 23:58:28.619 +01:00 [DBG] Connection id "0HMLNKM9N91SR" completed keep alive response.
2022-10-26 23:58:28.621 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 401 0 - 31.8516ms
2022-10-26 23:59:38.613 +01:00 [DBG] Connection id "0HMLNKM9N91SR" received FIN.
2022-10-26 23:59:38.623 +01:00 [DBG] Connection id "0HMLNKM9N91SR" disconnecting.
2022-10-26 23:59:38.634 +01:00 [DBG] Connection id "0HMLNKM9N91SR" sending FIN because: "The client closed the connection."
2022-10-26 23:59:38.642 +01:00 [DBG] Connection id "0HMLNKM9N91SR" stopped.
2022-10-26 23:59:44.340 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-10-26 23:59:44.458 +01:00 [DBG] Hosting starting
2022-10-26 23:59:44.500 +01:00 [INF] User profile is available. Using 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-26 23:59:44.504 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-3152f07b-30a7-4e78-998a-7fbe0c511d49.xml'.
2022-10-26 23:59:44.510 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-39e65c09-2014-4c2e-81b8-f002f10ef3e8.xml'.
2022-10-26 23:59:44.511 +01:00 [DBG] Reading data from file 'C:\Users\ivo_m\AppData\Local\ASP.NET\DataProtection-Keys\key-6f35828d-18a5-42d0-ae68-7003daa6031c.xml'.
2022-10-26 23:59:44.517 +01:00 [DBG] Found key {3152f07b-30a7-4e78-998a-7fbe0c511d49}.
2022-10-26 23:59:44.523 +01:00 [DBG] Found key {39e65c09-2014-4c2e-81b8-f002f10ef3e8}.
2022-10-26 23:59:44.524 +01:00 [DBG] Found key {6f35828d-18a5-42d0-ae68-7003daa6031c}.
2022-10-26 23:59:44.532 +01:00 [DBG] Considering key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} with expiration date 2023-01-02 15:04:49Z as default key.
2022-10-26 23:59:44.535 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:59:44.539 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-10-26 23:59:44.541 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-10-26 23:59:44.545 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-10-26 23:59:44.548 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-10-26 23:59:44.553 +01:00 [DBG] Using key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} as the default key.
2022-10-26 23:59:44.555 +01:00 [DBG] Key ring with default key {39e65c09-2014-4c2e-81b8-f002f10ef3e8} was loaded during application startup.
2022-10-26 23:59:44.721 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3907BD28E3DCA40F44EB5F54AD4AF0BF61FE96F5)
2022-10-26 23:59:44.791 +01:00 [INF] Now listening on: https://localhost:7074
2022-10-26 23:59:44.793 +01:00 [INF] Now listening on: http://localhost:5074
2022-10-26 23:59:44.794 +01:00 [DBG] Loaded hosting startup assembly SimpleBank.AcctManage.API
2022-10-26 23:59:44.795 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-10-26 23:59:44.796 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-10-26 23:59:44.797 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-26 23:59:44.798 +01:00 [INF] Hosting environment: Development
2022-10-26 23:59:44.799 +01:00 [INF] Content root path: C:\_github\SimpleBankAPI\APP\SimpleBank.AcctManage\SimpleBank.AcctManage.API\
2022-10-26 23:59:44.802 +01:00 [DBG] Hosting started
2022-10-26 23:59:45.062 +01:00 [DBG] Connection id "0HMLNKN34KM2J" accepted.
2022-10-26 23:59:45.066 +01:00 [DBG] Connection id "0HMLNKN34KM2J" started.
2022-10-26 23:59:45.096 +01:00 [DBG] Connection id "0HMLNKN34KM2K" received FIN.
2022-10-26 23:59:45.098 +01:00 [DBG] Connection id "0HMLNKN34KM2K" accepted.
2022-10-26 23:59:45.099 +01:00 [DBG] Connection id "0HMLNKN34KM2K" started.
2022-10-26 23:59:45.100 +01:00 [DBG] Connection id "0HMLNKN34KM2J" received FIN.
2022-10-26 23:59:45.106 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:59:45.109 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-10-26 23:59:45.188 +01:00 [DBG] Connection id "0HMLNKN34KM2K" stopped.
2022-10-26 23:59:45.193 +01:00 [DBG] Connection id "0HMLNKN34KM2J" stopped.
2022-10-26 23:59:45.196 +01:00 [DBG] Connection id "0HMLNKN34KM2J" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:59:45.196 +01:00 [DBG] Connection id "0HMLNKN34KM2K" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-10-26 23:59:45.395 +01:00 [DBG] Connection id "0HMLNKN34KM2L" accepted.
2022-10-26 23:59:45.397 +01:00 [DBG] Connection id "0HMLNKN34KM2L" started.
2022-10-26 23:59:45.441 +01:00 [DBG] Connection 0HMLNKN34KM2L established using the following protocol: "Tls13"
2022-10-26 23:59:45.499 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/index.html - -
2022-10-26 23:59:45.560 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-10-26 23:59:45.751 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-10-26 23:59:45.904 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-10-26 23:59:45.947 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/index.html - - - 200 - text/html;charset=utf-8 447.0138ms
2022-10-26 23:59:46.511 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_vs/browserLink - -
2022-10-26 23:59:46.515 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - -
2022-10-26 23:59:46.548 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_framework/aspnetcore-browser-refresh.js - - - 200 12020 application/javascript;+charset=utf-8 33.4175ms
2022-10-26 23:59:46.590 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 78.9184ms
2022-10-26 23:59:46.753 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - -
2022-10-26 23:59:47.076 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7074/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 323.4061ms
2022-10-26 23:59:56.410 +01:00 [DBG] Connection id "0HMLNKN34KM2M" accepted.
2022-10-26 23:59:56.412 +01:00 [DBG] Connection id "0HMLNKN34KM2M" started.
2022-10-26 23:59:56.421 +01:00 [DBG] Connection 0HMLNKN34KM2M established using the following protocol: "Tls13"
2022-10-26 23:59:56.445 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 -
2022-10-26 23:59:56.449 +01:00 [DBG] POST requests are not supported
2022-10-26 23:59:56.472 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/renew'
2022-10-26 23:59:56.477 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Renew' is valid for the request path '/api/users/renew'
2022-10-26 23:59:56.480 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:59:56.573 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:59:56.579 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:59:56.582 +01:00 [INF] Executing endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:59:56.613 +01:00 [INF] Route matched with {action = "RenewToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse]] RenewToken(SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest) on controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API).
2022-10-26 23:59:56.620 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-10-26 23:59:56.622 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-10-26 23:59:56.624 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-10-26 23:59:56.627 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-10-26 23:59:56.629 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-10-26 23:59:56.632 +01:00 [DBG] Executing controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:59:56.852 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-10-26 23:59:56.881 +01:00 [DBG] Executed controller factory for controller SimpleBank.AcctManage.API.Controllers.UsersController (SimpleBank.AcctManage.API)
2022-10-26 23:59:56.895 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:59:56.898 +01:00 [DBG] Attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' using the name '' in request data ...
2022-10-26 23:59:56.902 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-10-26 23:59:56.908 +01:00 [DBG] Connection id "0HMLNKN34KM2M", Request id "0HMLNKN34KM2M:00000002": started reading request body.
2022-10-26 23:59:56.912 +01:00 [DBG] Connection id "0HMLNKN34KM2M", Request id "0HMLNKN34KM2M:00000002": done reading request body.
2022-10-26 23:59:56.917 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'
2022-10-26 23:59:56.919 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:59:56.921 +01:00 [DBG] Done attempting to bind parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:59:56.922 +01:00 [DBG] Attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest' ...
2022-10-26 23:59:56.931 +01:00 [DBG] Done attempting to validate the bound parameter 'renewRequest' of type 'SimpleBank.AcctManage.API.DTModels.Requests.RenewRequest'.
2022-10-26 23:59:57.964 +01:00 [INF] Entity Framework Core 6.0.7 initialized 'SimpleBankDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-26 23:59:58.023 +01:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.RefreshToken == __refreshToken_0)'
2022-10-26 23:59:58.369 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserToken>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.AccessToken (string) Required, 1], [Property: UserToken.AccessTokenExpiresAt (DateTime) Required, 2], [Property: UserToken.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 3], [Property: UserToken.RefreshToken (string) Required, 4], [Property: UserToken.RefreshTokenExpiresAt (DateTime) Required, 5], [Property: UserToken.UserId (Guid) Required, 6] }
        SELECT TOP(1) u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
        FROM SB-auth.UserTokens AS u
        WHERE u.refresh_token == @__refreshToken_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
    SimpleBank.AcctManage.Infrastructure.Persistence.SimpleBankDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-10-26 23:59:58.416 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:59:58.496 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (77ms).
2022-10-26 23:59:58.505 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:59:58.692 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:59:58.708 +01:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:59:58.803 +01:00 [INF] Executed DbCommand (100ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_token_id, u.access_token, u.access_token_expires_at, u.created_at, u.refresh_token, u.refresh_token_expires_at, u.user_id
FROM "SB-auth"."UserTokens" AS u
WHERE u.refresh_token = @__refreshToken_0
LIMIT 1
2022-10-26 23:59:58.846 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:59:58.897 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:59:58.903 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:59:58.912 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:59:59.091 +01:00 [DBG] 'SimpleBankDbContext' generated a temporary value for the property 'Id.UserToken'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:59:59.105 +01:00 [DBG] Context 'SimpleBankDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:59:59.115 +01:00 [DBG] SaveChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:59:59.120 +01:00 [DBG] DetectChanges starting for 'SimpleBankDbContext'.
2022-10-26 23:59:59.136 +01:00 [DBG] DetectChanges completed for 'SimpleBankDbContext'.
2022-10-26 23:59:59.167 +01:00 [DBG] Opening connection to database 'SimpleBank' on server ''.
2022-10-26 23:59:59.170 +01:00 [DBG] Opened connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:59:59.174 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-10-26 23:59:59.184 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-10-26 23:59:59.240 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-10-26 23:59:59.242 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-10-26 23:59:59.245 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:59:59.272 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SB-auth"."UserTokens" (access_token, access_token_expires_at, created_at, refresh_token, refresh_token_expires_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING user_token_id;
2022-10-26 23:59:59.300 +01:00 [DBG] The foreign key property 'UserToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-10-26 23:59:59.313 +01:00 [DBG] A data reader was disposed.
2022-10-26 23:59:59.327 +01:00 [DBG] Committing transaction.
2022-10-26 23:59:59.341 +01:00 [DBG] Committed transaction.
2022-10-26 23:59:59.348 +01:00 [DBG] Closing connection to database 'SimpleBank' on server 'tcp://localhost:5432'.
2022-10-26 23:59:59.351 +01:00 [DBG] Closed connection to database 'SimpleBank' on server ''.
2022-10-26 23:59:59.357 +01:00 [DBG] Disposing transaction.
2022-10-26 23:59:59.372 +01:00 [DBG] An entity of type 'UserToken' tracked by 'SimpleBankDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-10-26 23:59:59.378 +01:00 [DBG] SaveChanges completed for 'SimpleBankDbContext' with 1 entities written to the database.
2022-10-26 23:59:59.391 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-10-26 23:59:59.395 +01:00 [DBG] No information found on request to perform content negotiation.
2022-10-26 23:59:59.396 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-10-26 23:59:59.397 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-10-26 23:59:59.398 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-10-26 23:59:59.400 +01:00 [INF] Executing OkObjectResult, writing value of type 'SimpleBank.AcctManage.API.DTModels.Responses.LoginUserResponse'.
2022-10-26 23:59:59.412 +01:00 [INF] Executed action SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API) in 2777.6574ms
2022-10-26 23:59:59.416 +01:00 [INF] Executed endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.RenewToken (SimpleBank.AcctManage.API)'
2022-10-26 23:59:59.419 +01:00 [DBG] Connection id "0HMLNKN34KM2M" completed keep alive response.
2022-10-26 23:59:59.423 +01:00 [DBG] 'SimpleBankDbContext' disposed.
2022-10-26 23:59:59.427 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7074/api/users/renew application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2981.1728ms
2022-10-26 23:59:59.446 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7074/api/users/profile - -
2022-10-26 23:59:59.447 +01:00 [DBG] The request path  does not match the path filter
2022-10-26 23:59:59.449 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/profile'
2022-10-26 23:59:59.450 +01:00 [DBG] Endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)' with route pattern 'api/Users/Profile' is valid for the request path '/api/users/profile'
2022-10-26 23:59:59.451 +01:00 [DBG] Request matched endpoint 'SimpleBank.AcctManage.API.Controllers.UsersController.GetUserInfo (SimpleBank.AcctManage.API)'
2022-10-26 23:59:59.454 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:59:59.455 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-10-26 23:59:59.459 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-10-26 23:59:59.467 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-10-26 23:59:59.469 +01:00 [DBG] Connection id "0HMLNKN34KM2M" completed keep alive response.
2022-10-26 23:59:59.471 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7074/api/users/profile - - - 401 0 - 24.9618ms
